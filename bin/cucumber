#!/usr/bin/env ruby
# frozen_string_literal: true
#
# This file was generated by Bundler.
#
# The application 'cucumber' is installed as part of a gem, and
# this file is here to facilitate running it.
#
require 'yaml'
settings = YAML.load_file(File.expand_path("config/settings.yml"))

cucumber_settings_string = ""
if (settings['aca']['market_kinds'].include? 'individual')
  cucumber_settings_string << " --tags ~@individual_disabled"
else
  cucumber_settings_string << " --tags ~@individual_enabled"
end

if (settings['aca']['general_agency_enabled'])
  cucumber_settings_string << " --tags ~@general_agency_disabled"
else
  cucumber_settings_string << " --tags ~@general_agency_enabled"
end

ARGV.each do |a|
  cucumber_settings_string << " #{a}"
end

system "cucumber#{cucumber_settings_string}"
