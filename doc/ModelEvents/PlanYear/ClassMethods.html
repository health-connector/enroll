<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: ModelEvents::PlanYear::ClassMethods
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ModelEvents::PlanYear::ClassMethods";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../ModelEvents.html" title="ModelEvents (module)">ModelEvents</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../PlanYear.html" title="ModelEvents::PlanYear (module)">PlanYear</a></span></span>
     &raquo; 
    <span class="title">ClassMethods</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: ModelEvents::PlanYear::ClassMethods
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/model_events/plan_year.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_change_event-instance_method" title="#date_change_event (instance method)">#<strong>date_change_event</strong>(new_date)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="date_change_event-instance_method">
  
    #<strong>date_change_event</strong>(new_date)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/model_events/plan_year.rb', line 109</span>

<span class='kw'>def</span> <span class='id identifier rubyid_date_change_event'>date_change_event</span><span class='lparen'>(</span><span class='id identifier rubyid_new_date'>new_date</span><span class='rparen'>)</span>
  <span class='comment'># renewal employer publish plan_year reminder a day after advertised soft deadline i.e 11th of the month
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_renewal_application'>renewal_application</span><span class='period'>.</span><span class='id identifier rubyid_application_submission_soft_deadline'>application_submission_soft_deadline</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='id identifier rubyid_is_renewal_employer_publish_plan_year_reminder_after_soft_dead_line'>is_renewal_employer_publish_plan_year_reminder_after_soft_dead_line</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># renewal_application with un-published plan year, send notice 2 days before soft dead line i.e 8th of the month
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_renewal_application'>renewal_application</span><span class='period'>.</span><span class='id identifier rubyid_application_submission_soft_deadline'>application_submission_soft_deadline</span> <span class='op'>-</span> <span class='int'>2</span>
    <span class='id identifier rubyid_is_renewal_plan_year_first_reminder_before_soft_dead_line'>is_renewal_plan_year_first_reminder_before_soft_dead_line</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># renewal_application with enrolling state, reached open-enrollment end date with minimum participation and non-owner-enrolle i.e 15th of month
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_renewal_application'>renewal_application</span><span class='period'>.</span><span class='id identifier rubyid_publish_due_day_of_month'>publish_due_day_of_month</span>
    <span class='id identifier rubyid_is_renewal_employer_open_enrollment_completed'>is_renewal_employer_open_enrollment_completed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'>#initial employers misses binder payment deadline
</span>  <span class='id identifier rubyid_binder_next_day'>binder_next_day</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_calculate_open_enrollment_date'>calculate_open_enrollment_date</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../TimeKeeper.html" title="TimeKeeper (class)">TimeKeeper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_date_of_record'><span class='object_link'><a href="../../TimeKeeper.html#date_of_record-class_method" title="TimeKeeper.date_of_record (method)">date_of_record</a></span></span><span class='period'>.</span><span class='id identifier rubyid_next_month'>next_month</span><span class='period'>.</span><span class='id identifier rubyid_beginning_of_month'>beginning_of_month</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:binder_payment_due_date</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_next_day'>next_day</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span> <span class='op'>==</span> <span class='id identifier rubyid_binder_next_day'>binder_next_day</span>
    <span class='id identifier rubyid_is_initial_employer_no_binder_payment_received'>is_initial_employer_no_binder_payment_received</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># renewal_application with un-published plan year, send notice 2 days prior to the publish due date i.e 13th of the month
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_renewal_application'>renewal_application</span><span class='period'>.</span><span class='id identifier rubyid_publish_due_day_of_month'>publish_due_day_of_month</span> <span class='op'>-</span> <span class='int'>2</span>
    <span class='id identifier rubyid_is_renewal_plan_year_publish_dead_line'>is_renewal_plan_year_publish_dead_line</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_renewal_application'>renewal_application</span><span class='period'>.</span><span class='id identifier rubyid_monthly_open_enrollment_end_on'>monthly_open_enrollment_end_on</span> <span class='op'>-</span> <span class='int'>2</span>
    <span class='id identifier rubyid_is_low_enrollment_notice_for_employer'>is_low_enrollment_notice_for_employer</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># remainder notices for initial application with unpublished plan year
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_initial_application'>initial_application</span><span class='period'>.</span><span class='id identifier rubyid_advertised_deadline_of_month'>advertised_deadline_of_month</span> <span class='op'>-</span> <span class='int'>2</span> <span class='comment'># 2 days prior to advertised deadline of month i.e., 8th of the month
</span>    <span class='id identifier rubyid_is_initial_employer_first_reminder_to_publish_plan_year'>is_initial_employer_first_reminder_to_publish_plan_year</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_initial_application'>initial_application</span><span class='period'>.</span><span class='id identifier rubyid_advertised_deadline_of_month'>advertised_deadline_of_month</span> <span class='op'>-</span> <span class='int'>1</span> <span class='comment'># 1 day prior to advertised deadline of month i.e., 9th of the month
</span>    <span class='id identifier rubyid_is_initial_employer_second_reminder_to_publish_plan_year'>is_initial_employer_second_reminder_to_publish_plan_year</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span> <span class='op'>==</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_aca'>aca</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_initial_application'>initial_application</span><span class='period'>.</span><span class='id identifier rubyid_publish_due_day_of_month'>publish_due_day_of_month</span> <span class='op'>-</span> <span class='int'>2</span> <span class='comment'># 2 days prior to publish deadline of month i.e., 13th of the month
</span>    <span class='id identifier rubyid_is_initial_employer_final_reminder_to_publish_plan_year'>is_initial_employer_final_reminder_to_publish_plan_year</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='const'><span class='object_link'><a href="../PlanYear.html#DATA_CHANGE_EVENTS-constant" title="ModelEvents::PlanYear::DATA_CHANGE_EVENTS (constant)">DATA_CHANGE_EVENTS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_event'>event</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_event_fired'>event_fired</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>is_</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_event_options'>event_options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_notify_observers'>notify_observers</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../ModelEvent.html" title="ModelEvents::ModelEvent (class)">ModelEvent</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../ModelEvent.html#initialize-instance_method" title="ModelEvents::ModelEvent#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_event_options'>event_options</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Oct 11 09:49:27 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.3).
</div>

    </div>
  </body>
</html>