<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: EmployerInvoice
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "EmployerInvoice";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (E)</a> &raquo;
    
    
    <span class="title">EmployerInvoice</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: EmployerInvoice
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">EmployerInvoice</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Config/AcaHelper.html" title="Config::AcaHelper (module)">Config::AcaHelper</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html" title="Config::ContactCenterHelper (module)">Config::ContactCenterHelper</a></span>, <span class='object_link'><a href="Config/SiteHelper.html" title="Config::SiteHelper (module)">Config::SiteHelper</a></span>, <span class='object_link'><a href="InvoiceHelper.html" title="InvoiceHelper (module)">InvoiceHelper</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/invoices/employer_invoice.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#errors-instance_method" title="#errors (instance method)">#<strong>errors</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute errors.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_tmp-instance_method" title="#clear_tmp (instance method)">#<strong>clear_tmp</strong>(file)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(organization, folder_name = nil)  &#x21d2; EmployerInvoice </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of EmployerInvoice.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#join_pdfs-instance_method" title="#join_pdfs (instance method)">#<strong>join_pdfs</strong>(pdfs)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pdf_doc-instance_method" title="#pdf_doc (instance method)">#<strong>pdf_doc</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save-instance_method" title="#save (instance method)">#<strong>save</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_and_notify-instance_method" title="#save_and_notify (instance method)">#<strong>save_and_notify</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_and_notify_with_clean_up-instance_method" title="#save_and_notify_with_clean_up (instance method)">#<strong>save_and_notify_with_clean_up</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_to_cloud-instance_method" title="#save_to_cloud (instance method)">#<strong>save_to_cloud</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_email_notice-instance_method" title="#send_email_notice (instance method)">#<strong>send_email_notice</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_first_invoice_available_notice-instance_method" title="#send_first_invoice_available_notice (instance method)">#<strong>send_first_invoice_available_notice</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>It will trigger initial invoice notice Should trigger for regular employers
but on conversion employers should not trigger with plan year is in renewal
related states should trigger on conversion employers who has
PlanYear::PUBLISHED.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_to_print_vendor-instance_method" title="#send_to_print_vendor (instance method)">#<strong>send_to_print_vendor</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Config/ContactCenterHelper.html" title="Config::ContactCenterHelper (module)">Config::ContactCenterHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_address_one-instance_method" title="Config::ContactCenterHelper#contact_center_address_one (method)">#contact_center_address_one</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_alt_fax_number-instance_method" title="Config::ContactCenterHelper#contact_center_alt_fax_number (method)">#contact_center_alt_fax_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_alt_name-instance_method" title="Config::ContactCenterHelper#contact_center_alt_name (method)">#contact_center_alt_name</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_alt_phone_number-instance_method" title="Config::ContactCenterHelper#contact_center_alt_phone_number (method)">#contact_center_alt_phone_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeal_address_one-instance_method" title="Config::ContactCenterHelper#contact_center_appeal_address_one (method)">#contact_center_appeal_address_one</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeal_city-instance_method" title="Config::ContactCenterHelper#contact_center_appeal_city (method)">#contact_center_appeal_city</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeal_name-instance_method" title="Config::ContactCenterHelper#contact_center_appeal_name (method)">#contact_center_appeal_name</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeal_state-instance_method" title="Config::ContactCenterHelper#contact_center_appeal_state (method)">#contact_center_appeal_state</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeal_zip-instance_method" title="Config::ContactCenterHelper#contact_center_appeal_zip (method)">#contact_center_appeal_zip</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeals-instance_method" title="Config::ContactCenterHelper#contact_center_appeals (method)">#contact_center_appeals</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_appeals_link-instance_method" title="Config::ContactCenterHelper#contact_center_appeals_link (method)">#contact_center_appeals_link</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_city-instance_method" title="Config::ContactCenterHelper#contact_center_city (method)">#contact_center_city</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_email_address-instance_method" title="Config::ContactCenterHelper#contact_center_email_address (method)">#contact_center_email_address</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_fax_number-instance_method" title="Config::ContactCenterHelper#contact_center_fax_number (method)">#contact_center_fax_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_ivl_number-instance_method" title="Config::ContactCenterHelper#contact_center_ivl_number (method)">#contact_center_ivl_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_ivl_phone_number-instance_method" title="Config::ContactCenterHelper#contact_center_ivl_phone_number (method)">#contact_center_ivl_phone_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_mailing_address_name-instance_method" title="Config::ContactCenterHelper#contact_center_mailing_address_name (method)">#contact_center_mailing_address_name</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_name-instance_method" title="Config::ContactCenterHelper#contact_center_name (method)">#contact_center_name</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_phone_number-instance_method" title="Config::ContactCenterHelper#contact_center_phone_number (method)">#contact_center_phone_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_postal_code-instance_method" title="Config::ContactCenterHelper#contact_center_postal_code (method)">#contact_center_postal_code</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_state-instance_method" title="Config::ContactCenterHelper#contact_center_state (method)">#contact_center_state</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#contact_center_tty_number-instance_method" title="Config::ContactCenterHelper#contact_center_tty_number (method)">#contact_center_tty_number</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#non_discrimination_complaint_url-instance_method" title="Config::ContactCenterHelper#non_discrimination_complaint_url (method)">#non_discrimination_complaint_url</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#non_discrimination_email-instance_method" title="Config::ContactCenterHelper#non_discrimination_email (method)">#non_discrimination_email</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#non_discrimination_phone_1-instance_method" title="Config::ContactCenterHelper#non_discrimination_phone_1 (method)">#non_discrimination_phone_1</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#non_discrimination_phone_2-instance_method" title="Config::ContactCenterHelper#non_discrimination_phone_2 (method)">#non_discrimination_phone_2</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#non_discrimination_phone_3-instance_method" title="Config::ContactCenterHelper#non_discrimination_phone_3 (method)">#non_discrimination_phone_3</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#small_business_email_link-instance_method" title="Config::ContactCenterHelper#small_business_email_link (method)">#small_business_email_link</a></span>, <span class='object_link'><a href="Config/ContactCenterHelper.html#small_businesss_email-instance_method" title="Config::ContactCenterHelper#small_businesss_email (method)">#small_businesss_email</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Config/SiteHelper.html" title="Config::SiteHelper (module)">Config::SiteHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Config/SiteHelper.html#find_your_doctor_url-instance_method" title="Config::SiteHelper#find_your_doctor_url (method)">#find_your_doctor_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#health_care_website-instance_method" title="Config::SiteHelper#health_care_website (method)">#health_care_website</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#health_care_website_url-instance_method" title="Config::SiteHelper#health_care_website_url (method)">#health_care_website_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#ivl_login_url-instance_method" title="Config::SiteHelper#ivl_login_url (method)">#ivl_login_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#link_to_make_their_premium_payments_online-instance_method" title="Config::SiteHelper#link_to_make_their_premium_payments_online (method)">#link_to_make_their_premium_payments_online</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#link_to_site_business_resource_center-instance_method" title="Config::SiteHelper#link_to_site_business_resource_center (method)">#link_to_site_business_resource_center</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#mail_address-instance_method" title="Config::SiteHelper#mail_address (method)">#mail_address</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#mail_non_discrimination_email-instance_method" title="Config::SiteHelper#mail_non_discrimination_email (method)">#mail_non_discrimination_email</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#non_discrimination_notice_url-instance_method" title="Config::SiteHelper#non_discrimination_notice_url (method)">#non_discrimination_notice_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_broker_quoting_enabled%3F-instance_method" title="Config::SiteHelper#site_broker_quoting_enabled? (method)">#site_broker_quoting_enabled?</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_brokers_agreement_path-instance_method" title="Config::SiteHelper#site_brokers_agreement_path (method)">#site_brokers_agreement_path</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_business_resource_center_url-instance_method" title="Config::SiteHelper#site_business_resource_center_url (method)">#site_business_resource_center_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_byline-instance_method" title="Config::SiteHelper#site_byline (method)">#site_byline</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_curam_enabled%3F-instance_method" title="Config::SiteHelper#site_curam_enabled? (method)">#site_curam_enabled?</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_document_verification_checklist_url-instance_method" title="Config::SiteHelper#site_document_verification_checklist_url (method)">#site_document_verification_checklist_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_domain_name-instance_method" title="Config::SiteHelper#site_domain_name (method)">#site_domain_name</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_employer_application_deadline_link-instance_method" title="Config::SiteHelper#site_employer_application_deadline_link (method)">#site_employer_application_deadline_link</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_faqs_url-instance_method" title="Config::SiteHelper#site_faqs_url (method)">#site_faqs_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_find_expert_link-instance_method" title="Config::SiteHelper#site_find_expert_link (method)">#site_find_expert_link</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_find_expert_url-instance_method" title="Config::SiteHelper#site_find_expert_url (method)">#site_find_expert_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_guidance_for_business_owners_url-instance_method" title="Config::SiteHelper#site_guidance_for_business_owners_url (method)">#site_guidance_for_business_owners_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_help_url-instance_method" title="Config::SiteHelper#site_help_url (method)">#site_help_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_home_business_url-instance_method" title="Config::SiteHelper#site_home_business_url (method)">#site_home_business_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_home_link-instance_method" title="Config::SiteHelper#site_home_link (method)">#site_home_link</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_home_url-instance_method" title="Config::SiteHelper#site_home_url (method)">#site_home_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_initial_earliest_start_prior_to_effective_on-instance_method" title="Config::SiteHelper#site_initial_earliest_start_prior_to_effective_on (method)">#site_initial_earliest_start_prior_to_effective_on</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_invoice_bill_url-instance_method" title="Config::SiteHelper#site_invoice_bill_url (method)">#site_invoice_bill_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_long_name-instance_method" title="Config::SiteHelper#site_long_name (method)">#site_long_name</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_main_web_address-instance_method" title="Config::SiteHelper#site_main_web_address (method)">#site_main_web_address</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_main_web_address_text-instance_method" title="Config::SiteHelper#site_main_web_address_text (method)">#site_main_web_address_text</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_main_web_address_url-instance_method" title="Config::SiteHelper#site_main_web_address_url (method)">#site_main_web_address_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_main_web_link-instance_method" title="Config::SiteHelper#site_main_web_link (method)">#site_main_web_link</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_make_their_premium_payments_online-instance_method" title="Config::SiteHelper#site_make_their_premium_payments_online (method)">#site_make_their_premium_payments_online</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_non_discrimination_complaint_url-instance_method" title="Config::SiteHelper#site_non_discrimination_complaint_url (method)">#site_non_discrimination_complaint_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_nondiscrimination_notice_url-instance_method" title="Config::SiteHelper#site_nondiscrimination_notice_url (method)">#site_nondiscrimination_notice_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_policies_url-instance_method" title="Config::SiteHelper#site_policies_url (method)">#site_policies_url</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_privacy_policy-instance_method" title="Config::SiteHelper#site_privacy_policy (method)">#site_privacy_policy</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_redirect_on_timeout_route-instance_method" title="Config::SiteHelper#site_redirect_on_timeout_route (method)">#site_redirect_on_timeout_route</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_registration_path-instance_method" title="Config::SiteHelper#site_registration_path (method)">#site_registration_path</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_short_name-instance_method" title="Config::SiteHelper#site_short_name (method)">#site_short_name</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_uses_default_devise_path%3F-instance_method" title="Config::SiteHelper#site_uses_default_devise_path? (method)">#site_uses_default_devise_path?</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_website_address-instance_method" title="Config::SiteHelper#site_website_address (method)">#site_website_address</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_website_link-instance_method" title="Config::SiteHelper#site_website_link (method)">#site_website_link</a></span>, <span class='object_link'><a href="Config/SiteHelper.html#site_website_name-instance_method" title="Config::SiteHelper#site_website_name (method)">#site_website_name</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Config/AcaHelper.html" title="Config::AcaHelper (module)">Config::AcaHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Config/AcaHelper.html#aca_address_query_county-instance_method" title="Config::AcaHelper#aca_address_query_county (method)">#aca_address_query_county</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_broker_routing_information-instance_method" title="Config::AcaHelper#aca_broker_routing_information (method)">#aca_broker_routing_information</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_primary_market-instance_method" title="Config::AcaHelper#aca_primary_market (method)">#aca_primary_market</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_recaptcha_enabled-instance_method" title="Config::AcaHelper#aca_recaptcha_enabled (method)">#aca_recaptcha_enabled</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_security_questions-instance_method" title="Config::AcaHelper#aca_security_questions (method)">#aca_security_questions</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_census_employees_template_file-instance_method" title="Config::AcaHelper#aca_shop_market_census_employees_template_file (method)">#aca_shop_market_census_employees_template_file</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_coverage_start_period-instance_method" title="Config::AcaHelper#aca_shop_market_coverage_start_period (method)">#aca_shop_market_coverage_start_period</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_employer_contribution_percent_minimum-instance_method" title="Config::AcaHelper#aca_shop_market_employer_contribution_percent_minimum (method)">#aca_shop_market_employer_contribution_percent_minimum</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_employer_family_contribution_percent_minimum-instance_method" title="Config::AcaHelper#aca_shop_market_employer_family_contribution_percent_minimum (method)">#aca_shop_market_employer_family_contribution_percent_minimum</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_new_employee_paper_application_is_enabled%3F-instance_method" title="Config::AcaHelper#aca_shop_market_new_employee_paper_application_is_enabled? (method)">#aca_shop_market_new_employee_paper_application_is_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_shop_market_valid_employer_attestation_documents_url-instance_method" title="Config::AcaHelper#aca_shop_market_valid_employer_attestation_documents_url (method)">#aca_shop_market_valid_employer_attestation_documents_url</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_state_abbreviation-instance_method" title="Config::AcaHelper#aca_state_abbreviation (method)">#aca_state_abbreviation</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_state_name-instance_method" title="Config::AcaHelper#aca_state_name (method)">#aca_state_name</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#aca_user_accounts_enabled-instance_method" title="Config::AcaHelper#aca_user_accounts_enabled (method)">#aca_user_accounts_enabled</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#broker_carrier_appointments_enabled%3F-instance_method" title="Config::AcaHelper#broker_carrier_appointments_enabled? (method)">#broker_carrier_appointments_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#calendar_is_enabled%3F-instance_method" title="Config::AcaHelper#calendar_is_enabled? (method)">#calendar_is_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#carrier_special_plan_identifier_namespace-instance_method" title="Config::AcaHelper#carrier_special_plan_identifier_namespace (method)">#carrier_special_plan_identifier_namespace</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#check_plan_options_title-instance_method" title="Config::AcaHelper#check_plan_options_title (method)">#check_plan_options_title</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#dental_market_enabled%3F-instance_method" title="Config::AcaHelper#dental_market_enabled? (method)">#dental_market_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#display_plan_cost_warning-instance_method" title="Config::AcaHelper#display_plan_cost_warning (method)">#display_plan_cost_warning</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#employer_attestation_is_enabled%3F-instance_method" title="Config::AcaHelper#employer_attestation_is_enabled? (method)">#employer_attestation_is_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#enabled_metal_level_years-instance_method" title="Config::AcaHelper#enabled_metal_level_years (method)">#enabled_metal_level_years</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#enabled_metal_levels_for_single_carrier-instance_method" title="Config::AcaHelper#enabled_metal_levels_for_single_carrier (method)">#enabled_metal_levels_for_single_carrier</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#enabled_single_carrier_years-instance_method" title="Config::AcaHelper#enabled_single_carrier_years (method)">#enabled_single_carrier_years</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#enabled_sole_source_years-instance_method" title="Config::AcaHelper#enabled_sole_source_years (method)">#enabled_sole_source_years</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#fetch_file_format-instance_method" title="Config::AcaHelper#fetch_file_format (method)">#fetch_file_format</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#fetch_invoices_addendum-instance_method" title="Config::AcaHelper#fetch_invoices_addendum (method)">#fetch_invoices_addendum</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#fetch_plan_title_for_metal_level-instance_method" title="Config::AcaHelper#fetch_plan_title_for_metal_level (method)">#fetch_plan_title_for_metal_level</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#fetch_plan_title_for_single_carrier-instance_method" title="Config::AcaHelper#fetch_plan_title_for_single_carrier (method)">#fetch_plan_title_for_single_carrier</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#fetch_plan_title_for_sole_source-instance_method" title="Config::AcaHelper#fetch_plan_title_for_sole_source (method)">#fetch_plan_title_for_sole_source</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#general_agency_enabled%3F-instance_method" title="Config::AcaHelper#general_agency_enabled? (method)">#general_agency_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#individual_market_is_enabled%3F-instance_method" title="Config::AcaHelper#individual_market_is_enabled? (method)">#individual_market_is_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#invoice_bill_url_helper-instance_method" title="Config::AcaHelper#invoice_bill_url_helper (method)">#invoice_bill_url_helper</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#market_rating_areas-instance_method" title="Config::AcaHelper#market_rating_areas (method)">#market_rating_areas</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#metal_levels_explained-instance_method" title="Config::AcaHelper#metal_levels_explained (method)">#metal_levels_explained</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#multiple_market_rating_areas%3F-instance_method" title="Config::AcaHelper#multiple_market_rating_areas? (method)">#multiple_market_rating_areas?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#offer_sole_source%3F-instance_method" title="Config::AcaHelper#offer_sole_source? (method)">#offer_sole_source?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#offers_metal_level%3F-instance_method" title="Config::AcaHelper#offers_metal_level? (method)">#offers_metal_level?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#offers_nationwide_plans%3F-instance_method" title="Config::AcaHelper#offers_nationwide_plans? (method)">#offers_nationwide_plans?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#offers_single_carrier%3F-instance_method" title="Config::AcaHelper#offers_single_carrier? (method)">#offers_single_carrier?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#offers_single_plan%3F-instance_method" title="Config::AcaHelper#offers_single_plan? (method)">#offers_single_plan?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#payment_pdf_helper-instance_method" title="Config::AcaHelper#payment_pdf_helper (method)">#payment_pdf_helper</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#payment_phone_number-instance_method" title="Config::AcaHelper#payment_phone_number (method)">#payment_phone_number</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#plan_match_tool_is_enabled%3F-instance_method" title="Config::AcaHelper#plan_match_tool_is_enabled? (method)">#plan_match_tool_is_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#site_broker_claim_quoting_enabled%3F-instance_method" title="Config::AcaHelper#site_broker_claim_quoting_enabled? (method)">#site_broker_claim_quoting_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#site_broker_quoting_enabled%3F-instance_method" title="Config::AcaHelper#site_broker_quoting_enabled? (method)">#site_broker_quoting_enabled?</a></span>, <span class='object_link'><a href="Config/AcaHelper.html#use_simple_employer_calculation_model%3F-instance_method" title="Config::AcaHelper#use_simple_employer_calculation_model? (method)">#use_simple_employer_calculation_model?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="InvoiceHelper.html" title="InvoiceHelper (module)">InvoiceHelper</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="InvoiceHelper.html#build_pdf-instance_method" title="InvoiceHelper#build_pdf (method)">#build_pdf</a></span>, <span class='object_link'><a href="InvoiceHelper.html#currency_format-instance_method" title="InvoiceHelper#currency_format (method)">#currency_format</a></span>, <span class='object_link'><a href="InvoiceHelper.html#dchbx_plan_header-instance_method" title="InvoiceHelper#dchbx_plan_header (method)">#dchbx_plan_header</a></span>, <span class='object_link'><a href="InvoiceHelper.html#dchbx_table_by_plan-instance_method" title="InvoiceHelper#dchbx_table_by_plan (method)">#dchbx_table_by_plan</a></span>, <span class='object_link'><a href="InvoiceHelper.html#dchbx_table_item_list-instance_method" title="InvoiceHelper#dchbx_table_item_list (method)">#dchbx_table_item_list</a></span>, <span class='object_link'><a href="InvoiceHelper.html#dchbx_table_light_blue-instance_method" title="InvoiceHelper#dchbx_table_light_blue (method)">#dchbx_table_light_blue</a></span>, <span class='object_link'><a href="InvoiceHelper.html#default_options-instance_method" title="InvoiceHelper#default_options (method)">#default_options</a></span>, <span class='object_link'><a href="InvoiceHelper.html#mailing_or_primary_address-instance_method" title="InvoiceHelper#mailing_or_primary_address (method)">#mailing_or_primary_address</a></span>, <span class='object_link'><a href="InvoiceHelper.html#mm2pt-instance_method" title="InvoiceHelper#mm2pt (method)">#mm2pt</a></span>, <span class='object_link'><a href="InvoiceHelper.html#payment_page_for_initial_employer-instance_method" title="InvoiceHelper#payment_page_for_initial_employer (method)">#payment_page_for_initial_employer</a></span>, <span class='object_link'><a href="InvoiceHelper.html#stroke_dashed_horizontal_line-instance_method" title="InvoiceHelper#stroke_dashed_horizontal_line (method)">#stroke_dashed_horizontal_line</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(organization, folder_name = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="EmployerInvoice (class)">EmployerInvoice</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of EmployerInvoice</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11
12
13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_organization'>organization</span><span class='comma'>,</span><span class='id identifier rubyid_folder_name'>folder_name</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@organization</span><span class='op'>=</span> <span class='id identifier rubyid_organization'>organization</span>
  <span class='ivar'>@employer_profile</span><span class='op'>=</span> <span class='id identifier rubyid_organization'>organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span>
  <span class='ivar'>@hbx_enrollments</span><span class='op'>=</span><span class='ivar'>@employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_enrollments_for_billing'>enrollments_for_billing</span>
  <span class='ivar'>@folder_name</span> <span class='op'>=</span> <span class='id identifier rubyid_folder_name'>folder_name</span>
  <span class='ivar'>@errors</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="errors-instance_method">
  
    #<strong>errors</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute errors</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


7
8
9</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 7</span>

<span class='kw'>def</span> <span class='id identifier rubyid_errors'>errors</span>
  <span class='ivar'>@errors</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="clear_tmp-instance_method">
  
    #<strong>clear_tmp</strong>(file)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_tmp'>clear_tmp</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="join_pdfs-instance_method">
  
    #<strong>join_pdfs</strong>(pdfs)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 37</span>

<span class='kw'>def</span> <span class='id identifier rubyid_join_pdfs'>join_pdfs</span><span class='lparen'>(</span><span class='id identifier rubyid_pdfs'>pdfs</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exists?'>exists?</span><span class='lparen'>(</span><span class='id identifier rubyid_pdfs'>pdfs</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>CombinePDF</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_pdfs'>pdfs</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='const'>CombinePDF</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_pdf'>pdf</span> <span class='op'>&lt;&lt;</span> <span class='const'>CombinePDF</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span><span class='lparen'>(</span><span class='id identifier rubyid_pdfs'>pdfs</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span> <span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pdf_doc-instance_method">
  
    #<strong>pdf_doc</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


17
18
19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 17</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pdf_doc'>pdf_doc</span>
  <span class='ivar'>@pdf_doc</span> <span class='op'>||=</span> <span class='id identifier rubyid_build_pdf'>build_pdf</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save-instance_method">
  
    #<strong>save</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 21</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save'>save</span>
  <span class='kw'>begin</span>
    <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_folder_path'>invoice_folder_path</span><span class='rparen'>)</span>
      <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_folder_path'>invoice_folder_path</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pdf_doc'>pdf_doc</span><span class='period'>.</span><span class='id identifier rubyid_render_file'>render_file</span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_fetch_invoices_addendum'>fetch_invoices_addendum</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_join_pdfs'>join_pdfs</span> <span class='lbracket'>[</span><span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>tmp</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_root'>root</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>lib/pdf_templates</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_fetch_invoices_addendum'>fetch_invoices_addendum</span><span class='rparen'>)</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='ivar'>@errors</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create PDF for </span><span class='embexpr_beg'>#{</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_hbx_id'>hbx_id</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span>
    <span class='ivar'>@errors</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_and_notify-instance_method">
  
    #<strong>save_and_notify</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_and_notify'>save_and_notify</span>
  <span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_save_to_cloud'>save_to_cloud</span>
  <span class='id identifier rubyid_send_to_print_vendor'>send_to_print_vendor</span>
  <span class='id identifier rubyid_send_email_notice'>send_email_notice</span>
  <span class='id identifier rubyid_send_first_invoice_available_notice'>send_first_invoice_available_notice</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_and_notify_with_clean_up-instance_method">
  
    #<strong>save_and_notify_with_clean_up</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_and_notify_with_clean_up'>save_and_notify_with_clean_up</span>
  <span class='id identifier rubyid_save'>save</span>
  <span class='id identifier rubyid_save_to_cloud'>save_to_cloud</span>
  <span class='id identifier rubyid_send_to_print_vendor'>send_to_print_vendor</span>
  <span class='id identifier rubyid_send_email_notice'>send_email_notice</span>
  <span class='id identifier rubyid_send_first_invoice_available_notice'>send_first_invoice_available_notice</span>
  <span class='id identifier rubyid_clear_tmp'>clear_tmp</span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_to_cloud-instance_method">
  
    #<strong>save_to_cloud</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 43</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_to_cloud'>save_to_cloud</span>
  <span class='kw'>begin</span>
    <span class='const'><span class='object_link'><a href="Organization.html" title="Organization (class)">Organization</a></span></span><span class='period'>.</span><span class='id identifier rubyid_upload_invoice'><span class='object_link'><a href="Organization.html#upload_invoice-class_method" title="Organization.upload_invoice (method)">upload_invoice</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='comma'>,</span><span class='id identifier rubyid_invoice_file_name'>invoice_file_name</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='ivar'>@errors</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to upload PDF for. </span><span class='embexpr_beg'>#{</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_hbx_id'>hbx_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create PDF </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_email_notice-instance_method">
  
    #<strong>send_email_notice</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65
66
67
68
69
70
71
72
73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_email_notice'>send_email_notice</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_is_new_employer?'>is_new_employer?</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_invoices'>invoices</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_subject'>subject</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invoice Now Available</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Your Renewal invoice is now available in your employer profile under Billing tab. Thank You</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_message_params'>message_params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
      <span class='label'>sender_id:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>admins</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='label'>parent_message_id:</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span>
      <span class='label'>from:</span> <span class='const'>Settings</span><span class='period'>.</span><span class='id identifier rubyid_site'>site</span><span class='period'>.</span><span class='id identifier rubyid_short_name'>short_name</span><span class='comma'>,</span>
      <span class='label'>to:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Employer Mailbox</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='label'>subject:</span> <span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span>
      <span class='label'>body:</span> <span class='id identifier rubyid_body'>body</span>
    <span class='rbrace'>}</span>
    <span class='id identifier rubyid_create_secure_message'>create_secure_message</span> <span class='id identifier rubyid_message_params'>message_params</span><span class='comma'>,</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='comma'>,</span> <span class='symbol'>:inbox</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_first_invoice_available_notice-instance_method">
  
    #<strong>send_first_invoice_available_notice</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>It will trigger initial invoice notice Should trigger for regular employers
but on conversion employers should not trigger with plan year is in renewal
related states should trigger on conversion employers who has
PlanYear::PUBLISHED</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87
88
89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_first_invoice_available_notice'>send_first_invoice_available_notice</span>
  <span class='kw'>if</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_is_new_employer?'>is_new_employer?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_is_converting_with_renewal_state?'>is_converting_with_renewal_state?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_invoices'>invoices</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_plan_year'>plan_year</span> <span class='op'>=</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_plan_years'>plan_years</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:aasm_state</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="PlanYear.html" title="PlanYear (class)">PlanYear</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PlanYear.html#PUBLISHED-constant" title="PlanYear::PUBLISHED (constant)">PUBLISHED</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='id identifier rubyid_observer'>observer</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Observers.html" title="Observers (module)">Observers</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Observers/NoticeObserver.html" title="Observers::NoticeObserver (class)">NoticeObserver</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Observers/NoticeObserver.html#initialize-instance_method" title="Observers::NoticeObserver#initialize (method)">new</a></span></span>
    <span class='id identifier rubyid_observer'>observer</span><span class='period'>.</span><span class='id identifier rubyid_deliver'>deliver</span><span class='lparen'>(</span><span class='label'>recipient:</span> <span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='comma'>,</span> <span class='label'>event_object:</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='comma'>,</span> <span class='label'>notice_event:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>initial_employer_invoice_available</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_to_print_vendor-instance_method">
  
    #<strong>send_to_print_vendor</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/invoices/employer_invoice.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_to_print_vendor'>send_to_print_vendor</span>
  <span class='kw'>begin</span>
    <span class='const'><span class='object_link'><a href="Organization.html" title="Organization (class)">Organization</a></span></span><span class='period'>.</span><span class='id identifier rubyid_upload_invoice_to_print_vendor'><span class='object_link'><a href="Organization.html#upload_invoice_to_print_vendor-class_method" title="Organization.upload_invoice_to_print_vendor (method)">upload_invoice_to_print_vendor</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_invoice_absolute_file_path'>invoice_absolute_file_path</span><span class='comma'>,</span><span class='id identifier rubyid_invoice_file_name'>invoice_file_name</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Exception</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='ivar'>@errors</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to send PDF to print vendor for. </span><span class='embexpr_beg'>#{</span><span class='ivar'>@organization</span><span class='period'>.</span><span class='id identifier rubyid_hbx_id'>hbx_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unable to create PDF </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Oct 11 09:50:00 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.3).
</div>

    </div>
  </body>
</html>