<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: BenefitGroup
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "BenefitGroup";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (B)</a> &raquo;
    
    
    <span class="title">BenefitGroup</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: BenefitGroup
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">BenefitGroup</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Config/AcaModelConcern.html" title="Config::AcaModelConcern (module)">Config::AcaModelConcern</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html" title="Eligibility::BenefitGroup (module)">Eligibility::BenefitGroup</a></span>, Mongoid::Document, Mongoid::Timestamps</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/benefit_group.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="BenefitGroupCongress.html" title="BenefitGroupCongress (class)">BenefitGroupCongress</a></span></p>
</div>

  <h2>Constant Summary</h2>
  <dl class="constants">
    
      <dt id="PLAN_OPTION_KINDS-constant" class="">PLAN_OPTION_KINDS =
        
      </dt>
      <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>sole_source</span><span class='words_sep'> </span><span class='tstring_content'>single_plan</span><span class='words_sep'> </span><span class='tstring_content'>single_carrier</span><span class='words_sep'> </span><span class='tstring_content'>metal_level</span><span class='words_sep'>)</span></pre></dd>
    
      <dt id="EFFECTIVE_ON_KINDS-constant" class="">EFFECTIVE_ON_KINDS =
        
      </dt>
      <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>date_of_hire</span><span class='words_sep'> </span><span class='tstring_content'>first_of_month</span><span class='words_sep'>)</span></pre></dd>
    
      <dt id="OFFSET_KINDS-constant" class="">OFFSET_KINDS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>30</span><span class='comma'>,</span> <span class='int'>60</span><span class='rbracket'>]</span></pre></dd>
    
      <dt id="TERMINATE_ON_KINDS-constant" class="">TERMINATE_ON_KINDS =
        
      </dt>
      <dd><pre class="code"><span class='qwords_beg'>%w(</span><span class='tstring_content'>end_of_month</span><span class='words_sep'>)</span></pre></dd>
    
      <dt id="PERSONAL_RELATIONSHIP_KINDS-constant" class="">PERSONAL_RELATIONSHIP_KINDS =
        
      </dt>
      <dd><pre class="code"><span class='lbracket'>[</span>
  <span class='symbol'>:employee</span><span class='comma'>,</span>
  <span class='symbol'>:spouse</span><span class='comma'>,</span>
  <span class='symbol'>:domestic_partner</span><span class='comma'>,</span>
  <span class='symbol'>:child_under_26</span><span class='comma'>,</span>
  <span class='symbol'>:child_26_and_over</span>
<span class='rbracket'>]</span></pre></dd>
    
  </dl>




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#carrier_for_elected_dental_plan-instance_method" title="#carrier_for_elected_dental_plan (instance method)">#<strong>carrier_for_elected_dental_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute carrier_for_elected_dental_plan.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#carrier_for_elected_plan-instance_method" title="#carrier_for_elected_plan (instance method)">#<strong>carrier_for_elected_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute carrier_for_elected_plan.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#metal_level_for_elected_plan-instance_method" title="#metal_level_for_elected_plan (instance method)">#<strong>metal_level_for_elected_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute metal_level_for_elected_plan.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-class_method" title="find (class method)">.<strong>find</strong>(id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_active_and_waived_health_enrollments-instance_method" title="#all_active_and_waived_health_enrollments (instance method)">#<strong>all_active_and_waived_health_enrollments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_active_health_enrollments-instance_method" title="#all_active_health_enrollments (instance method)">#<strong>all_active_health_enrollments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#assignable_to%3F-instance_method" title="#assignable_to? (instance method)">#<strong>assignable_to?</strong>(census_employee)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#benefit_group_assignments-instance_method" title="#benefit_group_assignments (instance method)">#<strong>benefit_group_assignments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_composite_tier_contributions-instance_method" title="#build_composite_tier_contributions (instance method)">#<strong>build_composite_tier_contributions</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_dental_relationship_benefits-instance_method" title="#build_dental_relationship_benefits (instance method)">#<strong>build_dental_relationship_benefits</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_estimated_composite_rates-instance_method" title="#build_estimated_composite_rates (instance method)">#<strong>build_estimated_composite_rates</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_relationship_benefits-instance_method" title="#build_relationship_benefits (instance method)">#<strong>build_relationship_benefits</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#carriers_offered-instance_method" title="#carriers_offered (instance method)">#<strong>carriers_offered</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#census_employees-instance_method" title="#census_employees (instance method)">#<strong>census_employees</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composite_employer_contribution_factor_for-instance_method" title="#composite_employer_contribution_factor_for (instance method)">#<strong>composite_employer_contribution_factor_for</strong>(composite_rating_tier)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the contribution factor for a given composite rating tier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composite_participation_rate_factor_for-instance_method" title="#composite_participation_rate_factor_for (instance method)">#<strong>composite_participation_rate_factor_for</strong>(plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the participation rate factor for this group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composite_rating_enrollment_objects-instance_method" title="#composite_rating_enrollment_objects (instance method)">#<strong>composite_rating_enrollment_objects</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composite_rating_tier_factor_for-instance_method" title="#composite_rating_tier_factor_for (instance method)">#<strong>composite_rating_tier_factor_for</strong>(composite_rating_tier, plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the base factor for this composite rating tier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#composite_rating_tier_premium_for-instance_method" title="#composite_rating_tier_premium_for (instance method)">#<strong>composite_rating_tier_premium_for</strong>(composite_rating_tier)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the premium for a given composite rating tier.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorated_elected_plans-instance_method" title="#decorated_elected_plans (instance method)">#<strong>decorated_elected_plans</strong>(member_provider, coverage_kind = &quot;&quot;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decorated_plan-instance_method" title="#decorated_plan (instance method)">#<strong>decorated_plan</strong>(plan, member_provider, ref_plan, max_contribution_cache = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dental_carriers_offered-instance_method" title="#dental_carriers_offered (instance method)">#<strong>dental_carriers_offered</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dental_reference_plan-instance_method" title="#dental_reference_plan (instance method)">#<strong>dental_reference_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dental_reference_plan=-instance_method" title="#dental_reference_plan= (instance method)">#<strong>dental_reference_plan=</strong>(new_reference_plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dental_relationship_benefit_for-instance_method" title="#dental_relationship_benefit_for (instance method)">#<strong>dental_relationship_benefit_for</strong>(relationship)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disable_benefits-instance_method" title="#disable_benefits (instance method)">#<strong>disable_benefits</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#effective_composite_tier-instance_method" title="#effective_composite_tier (instance method)">#<strong>effective_composite_tier</strong>(ce)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#effective_title_by_offset-instance_method" title="#effective_title_by_offset (instance method)">#<strong>effective_title_by_offset</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_dental_plans-instance_method" title="#elected_dental_plans (instance method)">#<strong>elected_dental_plans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_dental_plans=-instance_method" title="#elected_dental_plans= (instance method)">#<strong>elected_dental_plans=</strong>(new_plans)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_dental_plans_by_option_kind-instance_method" title="#elected_dental_plans_by_option_kind (instance method)">#<strong>elected_dental_plans_by_option_kind</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_plans-instance_method" title="#elected_plans (instance method)">#<strong>elected_plans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_plans=-instance_method" title="#elected_plans= (instance method)">#<strong>elected_plans=</strong>(new_plans)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elected_plans_by_option_kind-instance_method" title="#elected_plans_by_option_kind (instance method)">#<strong>elected_plans_by_option_kind</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#employee_cost_for_plan-instance_method" title="#employee_cost_for_plan (instance method)">#<strong>employee_cost_for_plan</strong>(ce, plan = reference_plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#employer_max_amt_in_cents=-instance_method" title="#employer_max_amt_in_cents= (instance method)">#<strong>employer_max_amt_in_cents=</strong>(new_employer_max_amt_in_cents)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#estimate_composite_rates-instance_method" title="#estimate_composite_rates (instance method)">#<strong>estimate_composite_rates</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#finalize_composite_rates-instance_method" title="#finalize_composite_rates (instance method)">#<strong>finalize_composite_rates</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group_size_count-instance_method" title="#group_size_count (instance method)">#<strong>group_size_count</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Count of enrolled employees - either estimated or actual depending on plan
year status.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#group_size_factor_for-instance_method" title="#group_size_factor_for (instance method)">#<strong>group_size_factor_for</strong>(plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the group size factor for this benefit group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#highest_cost_plan-instance_method" title="#highest_cost_plan (instance method)">#<strong>highest_cost_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_default%3F-instance_method" title="#is_default? (instance method)">#<strong>is_default?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_offering_dental%3F-instance_method" title="#is_offering_dental? (instance method)">#<strong>is_offering_dental?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_open_enrollment%3F-instance_method" title="#is_open_enrollment? (instance method)">#<strong>is_open_enrollment?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_cprf_for-instance_method" title="#lookup_cached_cprf_for (instance method)">#<strong>lookup_cached_cprf_for</strong>(carrier_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_crtbf_for-instance_method" title="#lookup_cached_crtbf_for (instance method)">#<strong>lookup_cached_crtbf_for</strong>(carrier_tier_pair)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_crtp_for-instance_method" title="#lookup_cached_crtp_for (instance method)">#<strong>lookup_cached_crtp_for</strong>(composite_rating_tier)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_eccf_for-instance_method" title="#lookup_cached_eccf_for (instance method)">#<strong>lookup_cached_eccf_for</strong>(composite_rating_tier)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_gsf_for-instance_method" title="#lookup_cached_gsf_for (instance method)">#<strong>lookup_cached_gsf_for</strong>(carrier_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lookup_cached_scf_for-instance_method" title="#lookup_cached_scf_for (instance method)">#<strong>lookup_cached_scf_for</strong>(carrier_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lowest_cost_plan-instance_method" title="#lowest_cost_plan (instance method)">#<strong>lowest_cost_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#monthly_employee_cost-instance_method" title="#monthly_employee_cost (instance method)">#<strong>monthly_employee_cost</strong>(coverage_kind = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#monthly_employer_contribution_amount-instance_method" title="#monthly_employer_contribution_amount (instance method)">#<strong>monthly_employer_contribution_amount</strong>(plan = reference_plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#monthly_max_employee_cost-instance_method" title="#monthly_max_employee_cost (instance method)">#<strong>monthly_max_employee_cost</strong>(coverage_kind = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#monthly_min_employee_cost-instance_method" title="#monthly_min_employee_cost (instance method)">#<strong>monthly_min_employee_cost</strong>(coverage_kind = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#participation_rate-instance_method" title="#participation_rate (instance method)">#<strong>participation_rate</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#premium_in_dollars-instance_method" title="#premium_in_dollars (instance method)">#<strong>premium_in_dollars</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rating_area-instance_method" title="#rating_area (instance method)">#<strong>rating_area</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the rating area value for this benefit group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reference_plan-instance_method" title="#reference_plan (instance method)">#<strong>reference_plan</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reference_plan=-instance_method" title="#reference_plan= (instance method)">#<strong>reference_plan=</strong>(new_reference_plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relationship_benefit_for-instance_method" title="#relationship_benefit_for (instance method)">#<strong>relationship_benefit_for</strong>(relationship)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#renewal_elected_dental_plan_ids-instance_method" title="#renewal_elected_dental_plan_ids (instance method)">#<strong>renewal_elected_dental_plan_ids</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#renewal_elected_plan_ids-instance_method" title="#renewal_elected_plan_ids (instance method)">#<strong>renewal_elected_plan_ids</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_bounding_cost_dental_plans-instance_method" title="#set_bounding_cost_dental_plans (instance method)">#<strong>set_bounding_cost_dental_plans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_bounding_cost_plans-instance_method" title="#set_bounding_cost_plans (instance method)">#<strong>set_bounding_cost_plans</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_lowest_and_highest-instance_method" title="#set_lowest_and_highest (instance method)">#<strong>set_lowest_and_highest</strong>(plans)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sic_factor_for-instance_method" title="#sic_factor_for (instance method)">#<strong>sic_factor_for</strong>(plan)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Provide the sic factor for this benefit group.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#simple_benefit_list-instance_method" title="#simple_benefit_list (instance method)">#<strong>simple_benefit_list</strong>(employee_premium_pct, dependent_premium_pct, employer_max_amount)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#single_plan_type%3F-instance_method" title="#single_plan_type? (instance method)">#<strong>single_plan_type?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sole_source%3F-instance_method" title="#sole_source? (instance method)">#<strong>sole_source?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sorted_composite_tier_contributions-instance_method" title="#sorted_composite_tier_contributions (instance method)">#<strong>sorted_composite_tier_contributions</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#targeted_census_employees-instance_method" title="#targeted_census_employees (instance method)">#<strong>targeted_census_employees</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#targeted_census_employees_participation-instance_method" title="#targeted_census_employees_participation (instance method)">#<strong>targeted_census_employees_participation</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#termination_effective_on_for-instance_method" title="#termination_effective_on_for (instance method)">#<strong>termination_effective_on_for</strong>(new_date)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Eligibility/BenefitGroup.html" title="Eligibility::BenefitGroup (module)">Eligibility::BenefitGroup</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Eligibility/BenefitGroup.html#date_of_hire_effective_on_for-instance_method" title="Eligibility::BenefitGroup#date_of_hire_effective_on_for (method)">#date_of_hire_effective_on_for</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html#effective_on_for-instance_method" title="Eligibility::BenefitGroup#effective_on_for (method)">#effective_on_for</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html#effective_on_for_cobra-instance_method" title="Eligibility::BenefitGroup#effective_on_for_cobra (method)">#effective_on_for_cobra</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html#eligible_on-instance_method" title="Eligibility::BenefitGroup#eligible_on (method)">#eligible_on</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html#first_of_month_effective_on_for-instance_method" title="Eligibility::BenefitGroup#first_of_month_effective_on_for (method)">#first_of_month_effective_on_for</a></span>, <span class='object_link'><a href="Eligibility/BenefitGroup.html#valid_plan_year-instance_method" title="Eligibility::BenefitGroup#valid_plan_year (method)">#valid_plan_year</a></span></p>

  
  
  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="carrier_for_elected_dental_plan=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="carrier_for_elected_dental_plan-instance_method">
  
    #<strong>carrier_for_elected_dental_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute carrier_for_elected_dental_plan</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_carrier_for_elected_dental_plan'>carrier_for_elected_dental_plan</span>
  <span class='ivar'>@carrier_for_elected_dental_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="carrier_for_elected_plan=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="carrier_for_elected_plan-instance_method">
  
    #<strong>carrier_for_elected_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute carrier_for_elected_plan</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span>
  <span class='ivar'>@carrier_for_elected_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="metal_level_for_elected_plan=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="metal_level_for_elected_plan-instance_method">
  
    #<strong>metal_level_for_elected_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute metal_level_for_elected_plan</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_metal_level_for_elected_plan'>metal_level_for_elected_plan</span>
  <span class='ivar'>@metal_level_for_elected_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="find-class_method">
  
    .<strong>find</strong>(id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


363
364
365
366
367
368
369
370
371
372</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 363</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='op'>::</span><span class='const'><span class='object_link'><a href="Caches.html" title="Caches (module)">Caches</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Caches/RequestScopedCache.html" title="Caches::RequestScopedCache (class)">RequestScopedCache</a></span></span><span class='period'>.</span><span class='id identifier rubyid_lookup'><span class='object_link'><a href="Caches/RequestScopedCache.html#lookup-class_method" title="Caches::RequestScopedCache.lookup (method)">lookup</a></span></span><span class='lparen'>(</span><span class='symbol'>:employer_calculation_cache_for_benefit_groups</span><span class='comma'>,</span> <span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_organization'>organization</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Organization.html" title="Organization (class)">Organization</a></span></span><span class='period'>.</span><span class='id identifier rubyid_unscoped'>unscoped</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>employer_profile.plan_years.benefit_groups._id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_plan_year'>plan_year</span> <span class='op'>=</span> <span class='id identifier rubyid_organization'>organization</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_plan_years'>plan_years</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>benefit_groups._id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_benefit_groups'>benefit_groups</span><span class='period'>.</span><span class='id identifier rubyid_unscoped'>unscoped</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_bg'>bg</span><span class='op'>|</span> <span class='id identifier rubyid_bg'>bg</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span>
    <span class='kw'>else</span>
      <span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="all_active_and_waived_health_enrollments-instance_method">
  
    #<strong>all_active_and_waived_health_enrollments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


676
677
678
679
680
681
682</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 676</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_active_and_waived_health_enrollments'>all_active_and_waived_health_enrollments</span>
  <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bga'>bga</span><span class='op'>|</span>
    <span class='id identifier rubyid_bga'>bga</span><span class='period'>.</span><span class='id identifier rubyid_active_and_waived_enrollments'>active_and_waived_enrollments</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_en'>en</span><span class='op'>|</span>
      <span class='id identifier rubyid_en'>en</span><span class='period'>.</span><span class='id identifier rubyid_dental?'>dental?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_active_health_enrollments-instance_method">
  
    #<strong>all_active_health_enrollments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


707
708
709
710
711
712
713</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 707</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_active_health_enrollments'>all_active_health_enrollments</span>
  <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bga'>bga</span><span class='op'>|</span>
    <span class='id identifier rubyid_bga'>bga</span><span class='period'>.</span><span class='id identifier rubyid_active_enrollments'>active_enrollments</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_en'>en</span><span class='op'>|</span>
      <span class='id identifier rubyid_en'>en</span><span class='period'>.</span><span class='id identifier rubyid_dental?'>dental?</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="assignable_to?-instance_method">
  
    #<strong>assignable_to?</strong>(census_employee)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


303
304
305</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 303</span>

<span class='kw'>def</span> <span class='id identifier rubyid_assignable_to?'>assignable_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_census_employee'>census_employee</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_census_employee'>census_employee</span><span class='period'>.</span><span class='id identifier rubyid_employment_terminated_on'>employment_terminated_on</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_start_on'>start_on</span> <span class='op'>||</span> <span class='id identifier rubyid_census_employee'>census_employee</span><span class='period'>.</span><span class='id identifier rubyid_hired_on'>hired_on</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_end_on'>end_on</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="benefit_group_assignments-instance_method">
  
    #<strong>benefit_group_assignments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 290</span>

<span class='kw'>def</span> <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span>
  <span class='const'><span class='object_link'><a href="BenefitGroupAssignment.html" title="BenefitGroupAssignment (class)">BenefitGroupAssignment</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_benefit_group_id'><span class='object_link'><a href="BenefitGroupAssignment.html#by_benefit_group_id-class_method" title="BenefitGroupAssignment.by_benefit_group_id (method)">by_benefit_group_id</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_composite_tier_contributions-instance_method">
  
    #<strong>build_composite_tier_contributions</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331
332
333</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 329</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_composite_tier_contributions'>build_composite_tier_contributions</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositeRatingTier.html" title="CompositeRatingTier (class)">CompositeRatingTier</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="CompositeRatingTier.html#NAMES-constant" title="CompositeRatingTier::NAMES (constant)">NAMES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rating_tier'>rating_tier</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='label'>composite_rating_tier:</span> <span class='id identifier rubyid_rating_tier'>rating_tier</span><span class='comma'>,</span> <span class='label'>offered:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_dental_relationship_benefits-instance_method">
  
    #<strong>build_dental_relationship_benefits</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


335
336
337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 335</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_dental_relationship_benefits'>build_dental_relationship_benefits</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dental_relationship_benefits'>dental_relationship_benefits</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#PERSONAL_RELATIONSHIP_KINDS-constant" title="BenefitGroup::PERSONAL_RELATIONSHIP_KINDS (constant)">PERSONAL_RELATIONSHIP_KINDS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_relationship'>relationship</span><span class='op'>|</span>
     <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dental_relationship_benefits'>dental_relationship_benefits</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='label'>relationship:</span> <span class='id identifier rubyid_relationship'>relationship</span><span class='comma'>,</span> <span class='label'>offered:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_estimated_composite_rates-instance_method">
  
    #<strong>build_estimated_composite_rates</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


719
720
721
722
723</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 719</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_estimated_composite_rates'>build_estimated_composite_rates</span>
  <span class='kw'>return</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sole_source?'>sole_source?</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html" title="CompositeRatingBaseRatesCalculator (class)">CompositeRatingBaseRatesCalculator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html#initialize-instance_method" title="CompositeRatingBaseRatesCalculator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_plans'>elected_plans</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span><span class='period'>.</span><span class='id identifier rubyid_build_estimated_premiums'>build_estimated_premiums</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_relationship_benefits-instance_method">
  
    #<strong>build_relationship_benefits</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_relationship_benefits'>build_relationship_benefits</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relationship_benefits'>relationship_benefits</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#PERSONAL_RELATIONSHIP_KINDS-constant" title="BenefitGroup::PERSONAL_RELATIONSHIP_KINDS (constant)">PERSONAL_RELATIONSHIP_KINDS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_relationship'>relationship</span><span class='op'>|</span>
     <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relationship_benefits'>relationship_benefits</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='label'>relationship:</span> <span class='id identifier rubyid_relationship'>relationship</span><span class='comma'>,</span> <span class='label'>offered:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="carriers_offered-instance_method">
  
    #<strong>carriers_offered</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


438
439
440
441
442
443
444
445
446
447
448
449</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 438</span>

<span class='kw'>def</span> <span class='id identifier rubyid_carriers_offered'>carriers_offered</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metal_level</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_plan_ids'>elected_plan_ids</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="census_employees-instance_method">
  
    #<strong>census_employees</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 294</span>

<span class='kw'>def</span> <span class='id identifier rubyid_census_employees'>census_employees</span>
  <span class='const'><span class='object_link'><a href="CensusEmployee.html" title="CensusEmployee (class)">CensusEmployee</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_benefit_group'><span class='object_link'><a href="CensusEmployee.html#find_all_by_benefit_group-class_method" title="CensusEmployee.find_all_by_benefit_group (method)">find_all_by_benefit_group</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composite_employer_contribution_factor_for-instance_method">
  
    #<strong>composite_employer_contribution_factor_for</strong>(composite_rating_tier)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the contribution factor for a given composite rating tier.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


646
647
648
649
650
651</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 646</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composite_employer_contribution_factor_for'>composite_employer_contribution_factor_for</span><span class='lparen'>(</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rparen'>)</span>
  <span class='ivar'>@cecf_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
     <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_eccf_for'>lookup_cached_eccf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@cecf_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composite_participation_rate_factor_for-instance_method">
  
    #<strong>composite_participation_rate_factor_for</strong>(plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the participation rate factor for this group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


583
584
585
586
587
588
589</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 583</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composite_participation_rate_factor_for'>composite_participation_rate_factor_for</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span> <span class='op'>=</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span>
  <span class='ivar'>@cprf_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_cprf_for'>lookup_cached_cprf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@cprf_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composite_rating_enrollment_objects-instance_method">
  
    #<strong>composite_rating_enrollment_objects</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


668
669
670
671
672
673
674</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 668</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composite_rating_enrollment_objects'>composite_rating_enrollment_objects</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_estimate_group_size?'>estimate_group_size?</span>
    <span class='id identifier rubyid_targeted_census_employees_participation'>targeted_census_employees_participation</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_expected_to_enroll?'>expected_to_enroll?</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_all_active_health_enrollments'>all_active_health_enrollments</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composite_rating_tier_factor_for-instance_method">
  
    #<strong>composite_rating_tier_factor_for</strong>(composite_rating_tier, plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the base factor for this composite rating tier.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


563
564
565
566
567
568
569
570</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 563</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composite_rating_tier_factor_for'>composite_rating_tier_factor_for</span><span class='lparen'>(</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='comma'>,</span> <span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span> <span class='op'>=</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span>
  <span class='id identifier rubyid_lookup_key'>lookup_key</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span><span class='comma'>,</span> <span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rbracket'>]</span>
  <span class='ivar'>@crtbf_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_crtbf_for'>lookup_cached_crtbf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@crtbf_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_lookup_key'>lookup_key</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="composite_rating_tier_premium_for-instance_method">
  
    #<strong>composite_rating_tier_premium_for</strong>(composite_rating_tier)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the premium for a given composite rating tier.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637
638</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 633</span>

<span class='kw'>def</span> <span class='id identifier rubyid_composite_rating_tier_premium_for'>composite_rating_tier_premium_for</span><span class='lparen'>(</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rparen'>)</span>
  <span class='ivar'>@crtp_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_crtp_for'>lookup_cached_crtp_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@crtp_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorated_elected_plans-instance_method">
  
    #<strong>decorated_elected_plans</strong>(member_provider, coverage_kind = &quot;&quot;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275
276
277
278</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decorated_elected_plans'>decorated_elected_plans</span><span class='lparen'>(</span><span class='id identifier rubyid_member_provider'>member_provider</span><span class='comma'>,</span> <span class='id identifier rubyid_coverage_kind'>coverage_kind</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_max_contribution_cache'>max_contribution_cache</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_get_elected_plans'>get_elected_plans</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>health</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_elected_plans'>elected_plans</span> <span class='op'>:</span> <span class='id identifier rubyid_elected_dental_plans'>elected_dental_plans</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ref_plan'>ref_plan</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>health</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span> <span class='op'>:</span> <span class='id identifier rubyid_dental_reference_plan'>dental_reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_get_elected_plans'>get_elected_plans</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_plan'>plan</span><span class='op'>|</span> <span class='id identifier rubyid_decorated_plan'>decorated_plan</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='comma'>,</span> <span class='id identifier rubyid_ref_plan'>ref_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_max_contribution_cache'>max_contribution_cache</span><span class='rparen'>)</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decorated_plan-instance_method">
  
    #<strong>decorated_plan</strong>(plan, member_provider, ref_plan, max_contribution_cache = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282
283
284
285
286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 280</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decorated_plan'>decorated_plan</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='comma'>,</span> <span class='id identifier rubyid_ref_plan'>ref_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_max_contribution_cache'>max_contribution_cache</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_is_congress'>is_congress</span>
    <span class='const'><span class='object_link'><a href="PlanCostDecoratorCongress.html" title="PlanCostDecoratorCongress (class)">PlanCostDecoratorCongress</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlanCostDecoratorCongress.html#initialize-instance_method" title="PlanCostDecoratorCongress#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_max_contribution_cache'>max_contribution_cache</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sole_source?'>sole_source?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_dental?'>dental?</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html" title="CompositeRatedPlanCostDecorator (class)">CompositeRatedPlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html#initialize-instance_method" title="CompositeRatedPlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='period'>.</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='period'>.</span><span class='id identifier rubyid_is_cobra_status?'>is_cobra_status?</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="PlanCostDecorator.html" title="PlanCostDecorator (class)">PlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlanCostDecorator.html#initialize-instance_method" title="PlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_member_provider'>member_provider</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_ref_plan'>ref_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_max_contribution_cache'>max_contribution_cache</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dental_carriers_offered-instance_method">
  
    #<strong>dental_carriers_offered</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


451
452
453
454
455
456
457
458</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 451</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dental_carriers_offered'>dental_carriers_offered</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_is_offering_dental?'>is_offering_dental?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dental_plan_option_kind'>dental_plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&#39;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_dental_plan_ids'>elected_dental_plan_ids</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_dental_reference_plan_id'>dental_reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:carrier_profile_id</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dental_reference_plan-instance_method">
  
    #<strong>dental_reference_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 141</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dental_reference_plan'>dental_reference_plan</span>
  <span class='kw'>return</span> <span class='ivar'>@dental_reference_plan</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@dental_reference_plan</span>
  <span class='ivar'>@dental_reference_plan</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_dental_reference_plan_id'>dental_reference_plan_id</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_dental_reference_plan_id'>dental_reference_plan_id</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dental_reference_plan=-instance_method">
  
    #<strong>dental_reference_plan=</strong>(new_reference_plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


130
131
132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 130</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dental_reference_plan='>dental_reference_plan=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected Plan</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_dental_reference_plan_id'>dental_reference_plan_id</span> <span class='op'>=</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='period'>.</span><span class='id identifier rubyid__id'>_id</span>
  <span class='ivar'>@dental_reference_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dental_relationship_benefit_for-instance_method">
  
    #<strong>dental_relationship_benefit_for</strong>(relationship)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dental_relationship_benefit_for'>dental_relationship_benefit_for</span><span class='lparen'>(</span><span class='id identifier rubyid_relationship'>relationship</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dental_relationship_benefits'>dental_relationship_benefits</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>relationship:</span> <span class='id identifier rubyid_relationship'>relationship</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disable_benefits-instance_method">
  
    #<strong>disable_benefits</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 515</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disable_benefits'>disable_benefits</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_census_employees'>census_employees</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span>
    <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span> <span class='op'>=</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>benefit_group_id:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_benefit_group_assignments'>benefit_group_assignments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bga'>bga</span><span class='op'>|</span>
        <span class='id identifier rubyid_bga'>bga</span><span class='period'>.</span><span class='id identifier rubyid_hbx_enrollments'>hbx_enrollments</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_enrollment'>enrollment</span><span class='op'>|</span>
          <span class='id identifier rubyid_enrollment'>enrollment</span><span class='period'>.</span><span class='id identifier rubyid_cancel_coverage!'>cancel_coverage!</span> <span class='kw'>if</span> <span class='id identifier rubyid_enrollment'>enrollment</span><span class='period'>.</span><span class='id identifier rubyid_may_cancel_coverage?'>may_cancel_coverage?</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_bga'>bga</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span><span class='lparen'>(</span><span class='label'>is_active:</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_is_renewing?'>is_renewing?</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_other_benefit_group'>other_benefit_group</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_benefit_groups'>benefit_groups</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_bg'>bg</span><span class='op'>|</span> <span class='id identifier rubyid_bg'>bg</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>!=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbrace'>}</span>

      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_is_renewing?'>is_renewing?</span>
        <span class='comment'># ce.add_renew_benefit_group_assignment(other_benefit_group)
</span>        <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_add_renew_benefit_group_assignment'>add_renew_benefit_group_assignment</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_other_benefit_group'>other_benefit_group</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_find_or_create_benefit_group_assignment'>find_or_create_benefit_group_assignment</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_other_benefit_group'>other_benefit_group</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_is_active'>is_active</span> <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="effective_composite_tier-instance_method">
  
    #<strong>effective_composite_tier</strong>(ce)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


298
299
300
301</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 298</span>

<span class='kw'>def</span> <span class='id identifier rubyid_effective_composite_tier'>effective_composite_tier</span><span class='lparen'>(</span><span class='id identifier rubyid_ce'>ce</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_employer_offered_family_benefits'>employer_offered_family_benefits</span> <span class='op'>=</span> <span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_find_by'>find_by</span><span class='lparen'>(</span><span class='label'>composite_rating_tier:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>family</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_offered?'>offered?</span>
  <span class='id identifier rubyid_employer_offered_family_benefits'>employer_offered_family_benefits</span> <span class='op'>?</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>employee_only</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="effective_title_by_offset-instance_method">
  
    #<strong>effective_title_by_offset</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


502
503
504
505
506
507
508
509
510
511
512
513</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 502</span>

<span class='kw'>def</span> <span class='id identifier rubyid_effective_title_by_offset'>effective_title_by_offset</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_effective_on_offset'>effective_on_offset</span>
  <span class='kw'>when</span> <span class='int'>0</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>First of the month following or coinciding with date of hire</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='int'>1</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>First of the month following date of hire</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='int'>30</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>First of the month following 30 days</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='int'>60</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>First of the month following 60 days</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_dental_plans-instance_method">
  
    #<strong>elected_dental_plans</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_dental_plans'>elected_dental_plans</span>
  <span class='kw'>return</span> <span class='ivar'>@elected_dental_plans</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@elected_dental_plans</span>
  <span class='ivar'>@elected_dental_plans</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_dental_plan_ids'>elected_dental_plan_ids</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_dental_plans=-instance_method">
  
    #<strong>elected_dental_plans=</strong>(new_plans)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_dental_plans='>elected_dental_plans=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_plans'>new_plans</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_dental_plan_ids'>elected_dental_plan_ids</span> <span class='op'>=</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_plan'>plan</span><span class='op'>|</span> <span class='id identifier rubyid_list'>list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid__id'>_id</span> <span class='rbrace'>}</span>

  <span class='comment'># set_bounding_cost_plans
</span>  <span class='ivar'>@elected_dental_plans</span> <span class='op'>=</span> <span class='id identifier rubyid_new_plans'>new_plans</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_dental_plans_by_option_kind-instance_method">
  
    #<strong>elected_dental_plans_by_option_kind</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


494
495
496
497
498
499
500</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 494</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_dental_plans_by_option_kind'>elected_dental_plans_by_option_kind</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_dental_plan_option_kind'>dental_plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_active_year'>by_active_year</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_dental_coverage'>dental_coverage</span><span class='period'>.</span><span class='id identifier rubyid_by_carrier_profile'>by_carrier_profile</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_carrier_for_elected_dental_plan'>carrier_for_elected_dental_plan</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_active_year'>by_active_year</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_dental_coverage'>dental_coverage</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_plans-instance_method">
  
    #<strong>elected_plans</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


263
264
265
266</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 263</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_plans'>elected_plans</span>
  <span class='kw'>return</span> <span class='ivar'>@elected_plans</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@elected_plans</span>
  <span class='ivar'>@elected_plans</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_plan_ids'>elected_plan_ids</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_plans=-instance_method">
  
    #<strong>elected_plans=</strong>(new_plans)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 242</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_plans='>elected_plans=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_plans'>new_plans</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Array</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_plan_ids'>elected_plan_ids</span> <span class='op'>=</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span> <span class='id identifier rubyid_plan'>plan</span><span class='op'>|</span> <span class='id identifier rubyid_list'>list</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid__id'>_id</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_plan_ids'>elected_plan_ids</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_new_plans'>new_plans</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:_id</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_set_bounding_cost_plans'>set_bounding_cost_plans</span>
  <span class='ivar'>@elected_plans</span> <span class='op'>=</span> <span class='id identifier rubyid_new_plans'>new_plans</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elected_plans_by_option_kind-instance_method">
  
    #<strong>elected_plans_by_option_kind</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elected_plans_by_option_kind'>elected_plans_by_option_kind</span>
  <span class='ivar'>@profile_and_service_area_pairs</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CarrierProfile.html" title="CarrierProfile (class)">CarrierProfile</a></span></span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_service_area_pairs_for'><span class='object_link'><a href="CarrierProfile.html#carrier_profile_service_area_pairs_for-class_method" title="CarrierProfile.carrier_profile_service_area_pairs_for (method)">carrier_profile_service_area_pairs_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>if</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='ivar'>@carrier_for_elected_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span> <span class='kw'>if</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span> <span class='op'>=</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_constrain_service_areas?'>constrain_service_areas?</span>
      <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_check_plan_offerings_for_single_carrier'>check_plan_offerings_for_single_carrier</span> <span class='comment'># filter by vertical choice(as there should be no bronze plans for one carrier.)
</span>      <span class='id identifier rubyid_plans'>plans</span><span class='period'>.</span><span class='id identifier rubyid_valid_shop_health_plans_for_service_area'>valid_shop_health_plans_for_service_area</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>carrier</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='ivar'>@profile_and_service_area_pairs</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span> <span class='id identifier rubyid_pair'>pair</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_valid_shop_health_plans'><span class='object_link'><a href="Plan.html#valid_shop_health_plans-class_method" title="Plan.valid_shop_health_plans (method)">valid_shop_health_plans</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>carrier</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>end</span>
    
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metal_level</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
      <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span> <span class='kw'>if</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='kw'>end</span>    
    <span class='kw'>if</span> <span class='id identifier rubyid_constrain_service_areas?'>constrain_service_areas?</span>
      <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_valid_shop_health_plans_for_service_area'><span class='object_link'><a href="Plan.html#valid_shop_health_plans_for_service_area-class_method" title="Plan.valid_shop_health_plans_for_service_area (method)">valid_shop_health_plans_for_service_area</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>carrier</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='ivar'>@profile_and_service_area_pairs</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span> <span class='id identifier rubyid_pair'>pair</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span> <span class='op'>==</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_valid_shop_health_plans'><span class='object_link'><a href="Plan.html#valid_shop_health_plans-class_method" title="Plan.valid_shop_health_plans (method)">valid_shop_health_plans</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>carrier</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_carrier_for_elected_plan'>carrier_for_elected_plan</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span> <span class='id identifier rubyid_pair'>pair</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span> <span class='op'>==</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="employee_cost_for_plan-instance_method">
  
    #<strong>employee_cost_for_plan</strong>(ce, plan = reference_plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


419
420
421
422
423
424
425
426
427
428</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 419</span>

<span class='kw'>def</span> <span class='id identifier rubyid_employee_cost_for_plan'>employee_cost_for_plan</span><span class='lparen'>(</span><span class='id identifier rubyid_ce'>ce</span><span class='comma'>,</span> <span class='id identifier rubyid_plan'>plan</span> <span class='op'>=</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pcd'>pcd</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='ivar'>@is_congress</span>
    <span class='id identifier rubyid_decorated_plan'>decorated_plan</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_dental?'>dental?</span>
    <span class='const'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html" title="CompositeRatedPlanCostDecorator (class)">CompositeRatedPlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html#initialize-instance_method" title="CompositeRatedPlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_effective_composite_tier'>effective_composite_tier</span><span class='lparen'>(</span><span class='id identifier rubyid_ce'>ce</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_is_cobra_status?'>is_cobra_status?</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="PlanCostDecorator.html" title="PlanCostDecorator (class)">PlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlanCostDecorator.html#initialize-instance_method" title="PlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pcd'>pcd</span><span class='period'>.</span><span class='id identifier rubyid_total_employee_cost'>total_employee_cost</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="employer_max_amt_in_cents=-instance_method">
  
    #<strong>employer_max_amt_in_cents=</strong>(new_employer_max_amt_in_cents)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 307</span>

<span class='kw'>def</span> <span class='id identifier rubyid_employer_max_amt_in_cents='>employer_max_amt_in_cents=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_employer_max_amt_in_cents'>new_employer_max_amt_in_cents</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_write_attribute'>write_attribute</span><span class='lparen'>(</span><span class='symbol'>:employer_max_amt_in_cents</span><span class='comma'>,</span> <span class='id identifier rubyid_dollars_to_cents'>dollars_to_cents</span><span class='lparen'>(</span><span class='id identifier rubyid_new_employer_max_amt_in_cents'>new_employer_max_amt_in_cents</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="estimate_composite_rates-instance_method">
  
    #<strong>estimate_composite_rates</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


725
726
727
728
729</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 725</span>

<span class='kw'>def</span> <span class='id identifier rubyid_estimate_composite_rates'>estimate_composite_rates</span>
  <span class='kw'>return</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sole_source?'>sole_source?</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html" title="CompositeRatingBaseRatesCalculator (class)">CompositeRatingBaseRatesCalculator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html#initialize-instance_method" title="CompositeRatingBaseRatesCalculator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_plans'>elected_plans</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:first</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span><span class='period'>.</span><span class='id identifier rubyid_assign_estimated_premiums'>assign_estimated_premiums</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="finalize_composite_rates-instance_method">
  
    #<strong>finalize_composite_rates</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


731
732
733
734
735</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 731</span>

<span class='kw'>def</span> <span class='id identifier rubyid_finalize_composite_rates'>finalize_composite_rates</span>
  <span class='kw'>return</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_sole_source?'>sole_source?</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html" title="CompositeRatingBaseRatesCalculator (class)">CompositeRatingBaseRatesCalculator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatingBaseRatesCalculator.html#initialize-instance_method" title="CompositeRatingBaseRatesCalculator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_elected_plans'>elected_plans</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rate_calc'>rate_calc</span><span class='period'>.</span><span class='id identifier rubyid_assign_final_premiums'>assign_final_premiums</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="group_size_count-instance_method">
  
    #<strong>group_size_count</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Count of enrolled employees - either estimated or actual depending on plan
year status</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


660
661
662
663
664
665
666</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 660</span>

<span class='kw'>def</span> <span class='id identifier rubyid_group_size_count'>group_size_count</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_estimate_group_size?'>estimate_group_size?</span>
    <span class='id identifier rubyid_targeted_census_employees_participation'>targeted_census_employees_participation</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_expected_to_enroll?'>expected_to_enroll?</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_all_active_health_enrollments'>all_active_health_enrollments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="group_size_factor_for-instance_method">
  
    #<strong>group_size_factor_for</strong>(plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the group size factor for this benefit group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


612
613
614
615
616
617
618
619
620
621</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 612</span>

<span class='kw'>def</span> <span class='id identifier rubyid_group_size_factor_for'>group_size_factor_for</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_use_simple_employer_calculation_model?'>use_simple_employer_calculation_model?</span>
    <span class='kw'>return</span> <span class='float'>1.0</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span> <span class='op'>=</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span>
  <span class='ivar'>@gsf_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_gsf_for'>lookup_cached_gsf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@gsf_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="highest_cost_plan-instance_method">
  
    #<strong>highest_cost_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_highest_cost_plan'>highest_cost_plan</span>
  <span class='kw'>return</span> <span class='ivar'>@highest_cost_plan</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@highest_cost_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_default?-instance_method">
  
    #<strong>is_default?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


434
435
436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 434</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_default?'>is_default?</span>
  <span class='id identifier rubyid_default'>default</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_offering_dental?-instance_method">
  
    #<strong>is_offering_dental?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_offering_dental?'>is_offering_dental?</span>
  <span class='id identifier rubyid_dental_reference_plan_id'>dental_reference_plan_id</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_elected_dental_plan_ids'>elected_dental_plan_ids</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_open_enrollment?-instance_method">
  
    #<strong>is_open_enrollment?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_open_enrollment?'>is_open_enrollment?</span>
  <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_open_enrollment_contains?'>open_enrollment_contains?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="TimeKeeper.html" title="TimeKeeper (class)">TimeKeeper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_date_of_record'><span class='object_link'><a href="TimeKeeper.html#date_of_record-class_method" title="TimeKeeper.date_of_record (method)">date_of_record</a></span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_cprf_for-instance_method">
  
    #<strong>lookup_cached_cprf_for</strong>(carrier_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


591
592
593
594</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 591</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_cprf_for'>lookup_cached_cprf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='const'><span class='object_link'><a href="EmployerParticipationRateRatingFactorSet.html" title="EmployerParticipationRateRatingFactorSet (class)">EmployerParticipationRateRatingFactorSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_value_for'><span class='object_link'><a href="EmployerParticipationRateRatingFactorSet.html#value_for-class_method" title="EmployerParticipationRateRatingFactorSet.value_for (method)">value_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_participation_rate'>participation_rate</span> <span class='op'>*</span> <span class='float'>100.0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_crtbf_for-instance_method">
  
    #<strong>lookup_cached_crtbf_for</strong>(carrier_tier_pair)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


572
573
574
575</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 572</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_crtbf_for'>lookup_cached_crtbf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_tier_pair'>carrier_tier_pair</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='const'><span class='object_link'><a href="CompositeRatingTierFactorSet.html" title="CompositeRatingTierFactorSet (class)">CompositeRatingTierFactorSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_value_for'><span class='object_link'><a href="CompositeRatingTierFactorSet.html#value_for-class_method" title="CompositeRatingTierFactorSet.value_for (method)">value_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_tier_pair'>carrier_tier_pair</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_carrier_tier_pair'>carrier_tier_pair</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_crtp_for-instance_method">
  
    #<strong>lookup_cached_crtp_for</strong>(composite_rating_tier)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


640
641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 640</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_crtp_for'>lookup_cached_crtp_for</span><span class='lparen'>(</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ct_contribution'>ct_contribution</span> <span class='op'>=</span> <span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ctc'>ctc</span><span class='op'>|</span> <span class='id identifier rubyid_ctc'>ctc</span><span class='period'>.</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span> <span class='op'>==</span> <span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_estimate_group_size?'>estimate_group_size?</span> <span class='op'>?</span> <span class='id identifier rubyid_ct_contribution'>ct_contribution</span><span class='period'>.</span><span class='id identifier rubyid_estimated_tier_premium'>estimated_tier_premium</span> <span class='op'>:</span> <span class='id identifier rubyid_ct_contribution'>ct_contribution</span><span class='period'>.</span><span class='id identifier rubyid_final_tier_premium'>final_tier_premium</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_eccf_for-instance_method">
  
    #<strong>lookup_cached_eccf_for</strong>(composite_rating_tier)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


653
654
655
656</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 653</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_eccf_for'>lookup_cached_eccf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ct_contribution'>ct_contribution</span> <span class='op'>=</span> <span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ctc'>ctc</span><span class='op'>|</span> <span class='id identifier rubyid_ctc'>ctc</span><span class='period'>.</span><span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span> <span class='op'>==</span> <span class='id identifier rubyid_composite_rating_tier'>composite_rating_tier</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_ct_contribution'>ct_contribution</span><span class='period'>.</span><span class='id identifier rubyid_contribution_factor'>contribution_factor</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_gsf_for-instance_method">
  
    #<strong>lookup_cached_gsf_for</strong>(carrier_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


623
624
625
626
627
628
629
630</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 623</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_gsf_for'>lookup_cached_gsf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="EmployerGroupSizeRatingFactorSet.html" title="EmployerGroupSizeRatingFactorSet (class)">EmployerGroupSizeRatingFactorSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_value_for'><span class='object_link'><a href="EmployerGroupSizeRatingFactorSet.html#value_for-class_method" title="EmployerGroupSizeRatingFactorSet.value_for (method)">value_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_group_size_count'>group_size_count</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="EmployerGroupSizeRatingFactorSet.html" title="EmployerGroupSizeRatingFactorSet (class)">EmployerGroupSizeRatingFactorSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_value_for'><span class='object_link'><a href="EmployerGroupSizeRatingFactorSet.html#value_for-class_method" title="EmployerGroupSizeRatingFactorSet.value_for (method)">value_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lookup_cached_scf_for-instance_method">
  
    #<strong>lookup_cached_scf_for</strong>(carrier_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


557
558
559
560</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 557</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lookup_cached_scf_for'>lookup_cached_scf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_year'>year</span> <span class='op'>=</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='const'><span class='object_link'><a href="SicCodeRatingFactorSet.html" title="SicCodeRatingFactorSet (class)">SicCodeRatingFactorSet</a></span></span><span class='period'>.</span><span class='id identifier rubyid_value_for'><span class='object_link'><a href="SicCodeRatingFactorSet.html#value_for-class_method" title="SicCodeRatingFactorSet.value_for (method)">value_for</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_carrier_id'>carrier_id</span><span class='comma'>,</span> <span class='id identifier rubyid_year'>year</span><span class='comma'>,</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_sic_code'>sic_code</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lowest_cost_plan-instance_method">
  
    #<strong>lowest_cost_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 234</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lowest_cost_plan'>lowest_cost_plan</span>
  <span class='kw'>return</span> <span class='ivar'>@lowest_cost_plan</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@lowest_cost_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="monthly_employee_cost-instance_method">
  
    #<strong>monthly_employee_cost</strong>(coverage_kind = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


393
394
395
396
397
398
399
400
401
402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 393</span>

<span class='kw'>def</span> <span class='id identifier rubyid_monthly_employee_cost'>monthly_employee_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rp'>rp</span> <span class='op'>=</span> <span class='id identifier rubyid_coverage_kind'>coverage_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dental</span><span class='tstring_end'>&quot;</span></span> <span class='op'>?</span> <span class='id identifier rubyid_dental_reference_plan'>dental_reference_plan</span> <span class='op'>:</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>&gt;</span> <span class='int'>199</span>
  <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span>
    <span class='id identifier rubyid_pcd'>pcd</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sole_source?'>sole_source?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_rp'>rp</span><span class='period'>.</span><span class='id identifier rubyid_dental?'>dental?</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html" title="CompositeRatedPlanCostDecorator (class)">CompositeRatedPlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html#initialize-instance_method" title="CompositeRatedPlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rp'>rp</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_effective_composite_tier'>effective_composite_tier</span><span class='lparen'>(</span><span class='id identifier rubyid_ce'>ce</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_is_cobra_status?'>is_cobra_status?</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pcd'>pcd</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PlanCostDecorator.html" title="PlanCostDecorator (class)">PlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlanCostDecorator.html#initialize-instance_method" title="PlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_rp'>rp</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_rp'>rp</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pcd'>pcd</span><span class='period'>.</span><span class='id identifier rubyid_total_employee_cost'>total_employee_cost</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="monthly_employer_contribution_amount-instance_method">
  
    #<strong>monthly_employer_contribution_amount</strong>(plan = reference_plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 374</span>

<span class='kw'>def</span> <span class='id identifier rubyid_monthly_employer_contribution_amount'>monthly_employer_contribution_amount</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span> <span class='op'>=</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>if</span> <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>&gt;</span> <span class='int'>199</span>

  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sole_source?'>sole_source?</span> <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_build_composite_tier_contributions'>build_composite_tier_contributions</span>
    <span class='id identifier rubyid_estimate_composite_rates'>estimate_composite_rates</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span><span class='period'>.</span><span class='id identifier rubyid_active'>active</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_pcd'>pcd</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html" title="CompositeRatedPlanCostDecorator (class)">CompositeRatedPlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="CompositeRatedPlanCostDecorator.html#initialize-instance_method" title="CompositeRatedPlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_effective_composite_tier'>effective_composite_tier</span><span class='lparen'>(</span><span class='id identifier rubyid_ce'>ce</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_is_cobra_status?'>is_cobra_status?</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pcd'>pcd</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PlanCostDecorator.html" title="PlanCostDecorator (class)">PlanCostDecorator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="PlanCostDecorator.html#initialize-instance_method" title="PlanCostDecorator#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='comma'>,</span> <span class='id identifier rubyid_ce'>ce</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_pcd'>pcd</span><span class='period'>.</span><span class='id identifier rubyid_total_employer_contribution'>total_employer_contribution</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="monthly_max_employee_cost-instance_method">
  
    #<strong>monthly_max_employee_cost</strong>(coverage_kind = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


410
411
412</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 410</span>

<span class='kw'>def</span> <span class='id identifier rubyid_monthly_max_employee_cost'>monthly_max_employee_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_monthly_employee_cost'>monthly_employee_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="monthly_min_employee_cost-instance_method">
  
    #<strong>monthly_min_employee_cost</strong>(coverage_kind = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 406</span>

<span class='kw'>def</span> <span class='id identifier rubyid_monthly_min_employee_cost'>monthly_min_employee_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_monthly_employee_cost'>monthly_employee_cost</span><span class='lparen'>(</span><span class='id identifier rubyid_coverage_kind'>coverage_kind</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="participation_rate-instance_method">
  
    #<strong>participation_rate</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


600
601
602
603
604
605
606
607
608
609</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 600</span>

<span class='kw'>def</span> <span class='id identifier rubyid_participation_rate'>participation_rate</span>
  <span class='id identifier rubyid_total_employees'>total_employees</span> <span class='op'>=</span> <span class='id identifier rubyid_targeted_census_employees_participation'>targeted_census_employees_participation</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='kw'>return</span><span class='lparen'>(</span><span class='float'>0.0</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_total_employees'>total_employees</span> <span class='op'>&lt;</span> <span class='int'>1</span>
  <span class='id identifier rubyid_waived_and_active_count'>waived_and_active_count</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_estimate_group_size?'>estimate_group_size?</span>
                        <span class='id identifier rubyid_targeted_census_employees_participation'>targeted_census_employees_participation</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_expected_to_enroll_or_valid_waive?'>expected_to_enroll_or_valid_waive?</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
                      <span class='kw'>else</span>
                        <span class='id identifier rubyid_all_active_and_waived_health_enrollments'>all_active_and_waived_health_enrollments</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
                      <span class='kw'>end</span>
  <span class='id identifier rubyid_waived_and_active_count'>waived_and_active_count</span><span class='op'>/</span><span class='lparen'>(</span><span class='id identifier rubyid_total_employees'>total_employees</span> <span class='op'>*</span> <span class='float'>1.0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="premium_in_dollars-instance_method">
  
    #<strong>premium_in_dollars</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 311</span>

<span class='kw'>def</span> <span class='id identifier rubyid_premium_in_dollars'>premium_in_dollars</span>
  <span class='id identifier rubyid_cents_to_dollars'>cents_to_dollars</span><span class='lparen'>(</span><span class='id identifier rubyid_employer_max_amt_in_cents'>employer_max_amt_in_cents</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rating_area-instance_method">
  
    #<strong>rating_area</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the rating area value for this benefit group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


578
579
580</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 578</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rating_area'>rating_area</span>
  <span class='ivar'>@rating_area</span> <span class='op'>||=</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_rating_area'>rating_area</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reference_plan-instance_method">
  
    #<strong>reference_plan</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 136</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span>
  <span class='kw'>return</span> <span class='ivar'>@reference_plan</span> <span class='kw'>if</span> <span class='kw'>defined?</span> <span class='ivar'>@reference_plan</span>
  <span class='ivar'>@reference_plan</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reference_plan=-instance_method">
  
    #<strong>reference_plan=</strong>(new_reference_plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reference_plan='>reference_plan=</span><span class='lparen'>(</span><span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>expected Plan</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span> <span class='op'>=</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span><span class='period'>.</span><span class='id identifier rubyid__id'>_id</span>
  <span class='ivar'>@reference_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_new_reference_plan'>new_reference_plan</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relationship_benefit_for-instance_method">
  
    #<strong>relationship_benefit_for</strong>(relationship)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 315</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relationship_benefit_for'>relationship_benefit_for</span><span class='lparen'>(</span><span class='id identifier rubyid_relationship'>relationship</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_relationship_benefits'>relationship_benefits</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>relationship:</span> <span class='id identifier rubyid_relationship'>relationship</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="renewal_elected_dental_plan_ids-instance_method">
  
    #<strong>renewal_elected_dental_plan_ids</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


697
698
699
700
701
702
703
704
705</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 697</span>

<span class='kw'>def</span> <span class='id identifier rubyid_renewal_elected_dental_plan_ids'>renewal_elected_dental_plan_ids</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_is_offering_dental?'>is_offering_dental?</span>
  <span class='id identifier rubyid_start_on_year'>start_on_year</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_next_year'>next_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_active_year'>by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_start_on_year'>start_on_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_dental_coverage'>dental_coverage</span><span class='period'>.</span><span class='id identifier rubyid_by_carrier_profile'>by_carrier_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_dental_reference_plan'>dental_reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile'>carrier_profile</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:_id</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_dental_plan_ids'>elected_dental_plan_ids</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:renewal_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="renewal_elected_plan_ids-instance_method">
  
    #<strong>renewal_elected_plan_ids</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


684
685
686
687
688
689
690
691
692
693
694
695</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 684</span>

<span class='kw'>def</span> <span class='id identifier rubyid_renewal_elected_plan_ids'>renewal_elected_plan_ids</span>
  <span class='id identifier rubyid_start_on_year'>start_on_year</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_next_year'>next_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_active_year'>by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_start_on_year'>start_on_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_health_coverage'>health_coverage</span><span class='period'>.</span><span class='id identifier rubyid_by_carrier_profile'>by_carrier_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile'>carrier_profile</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='label'>hios_id:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-01</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:_id</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metal_level</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_active_year'>by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_start_on_year'>start_on_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_health_coverage'>health_coverage</span><span class='period'>.</span><span class='id identifier rubyid_by_metal_level'>by_metal_level</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='label'>hios_id:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-01</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:_id</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elected_plan_ids'>elected_plan_ids</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:renewal_plan_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_bounding_cost_dental_plans-instance_method">
  
    #<strong>set_bounding_cost_dental_plans</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213
214
215
216
217
218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 210</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_bounding_cost_dental_plans'>set_bounding_cost_dental_plans</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_dental_plan_option_kind'>dental_plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='id identifier rubyid_elected_dental_plans'>elected_dental_plans</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_dental_plan_option_kind'>dental_plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_shop_dental_by_active_year'>shop_dental_by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_active_year'>active_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_by_carrier_profile'>by_carrier_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile'>carrier_profile</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_set_lowest_and_highest'>set_lowest_and_highest</span><span class='lparen'>(</span><span class='id identifier rubyid_plans'>plans</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_bounding_cost_plans-instance_method">
  
    #<strong>set_bounding_cost_plans</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_bounding_cost_plans'>set_bounding_cost_plans</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_reference_plan_id'>reference_plan_id</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:benefit_application</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_benefit_application'>benefit_application</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_offerings_constrained_to_service_areas?'>offerings_constrained_to_service_areas?</span>
    <span class='id identifier rubyid_profile_and_service_area_pairs'>profile_and_service_area_pairs</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="CarrierProfile.html" title="CarrierProfile (class)">CarrierProfile</a></span></span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_service_area_pairs_for'><span class='object_link'><a href="CarrierProfile.html#carrier_profile_service_area_pairs_for-class_method" title="CarrierProfile.carrier_profile_service_area_pairs_for (method)">carrier_profile_service_area_pairs_for</a></span></span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span><span class='comma'>,</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_active_year'>active_year</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_single_carrier_pair'>single_carrier_pair</span> <span class='op'>=</span> <span class='id identifier rubyid_profile_and_service_area_pairs'>profile_and_service_area_pairs</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pair'>pair</span><span class='op'>|</span> <span class='id identifier rubyid_pair'>pair</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>==</span> <span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile'>carrier_profile</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_carrier</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_offerings_constrained_to_service_areas?'>offerings_constrained_to_service_areas?</span>
        <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_service_areas_and_carriers'><span class='object_link'><a href="Plan.html#for_service_areas_and_carriers-class_method" title="Plan.for_service_areas_and_carriers (method)">for_service_areas_and_carriers</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_single_carrier_pair'>single_carrier_pair</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_check_plan_offerings_for_single_carrier'>check_plan_offerings_for_single_carrier</span><span class='period'>.</span><span class='id identifier rubyid_health_coverage'>health_coverage</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='label'>hios_id:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-01</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_shop_health_by_active_year'>shop_health_by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_active_year'>active_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_by_carrier_profile'>by_carrier_profile</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile'>carrier_profile</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_with_enabled_metal_levels'>with_enabled_metal_levels</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_offerings_constrained_to_service_areas?'>offerings_constrained_to_service_areas?</span>
        <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_for_service_areas_and_carriers'><span class='object_link'><a href="Plan.html#for_service_areas_and_carriers-class_method" title="Plan.for_service_areas_and_carriers (method)">for_service_areas_and_carriers</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_profile_and_service_area_pairs'>profile_and_service_area_pairs</span><span class='comma'>,</span> <span class='id identifier rubyid_start_on'>start_on</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_shop_market'>shop_market</span><span class='period'>.</span><span class='id identifier rubyid_check_plan_offerings_for_metal_level'>check_plan_offerings_for_metal_level</span><span class='period'>.</span><span class='id identifier rubyid_health_coverage'>health_coverage</span><span class='period'>.</span><span class='id identifier rubyid_by_metal_level'>by_metal_level</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='label'>hios_id:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>-01</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_with_enabled_metal_levels'>with_enabled_metal_levels</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_plans'>plans</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Plan.html" title="Plan (class)">Plan</a></span></span><span class='period'>.</span><span class='id identifier rubyid_shop_health_by_active_year'>shop_health_by_active_year</span><span class='lparen'>(</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_active_year'>active_year</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_by_health_metal_levels'>by_health_metal_levels</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_reference_plan'>reference_plan</span><span class='period'>.</span><span class='id identifier rubyid_metal_level'>metal_level</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_set_lowest_and_highest'>set_lowest_and_highest</span><span class='lparen'>(</span><span class='id identifier rubyid_plans'>plans</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_lowest_and_highest-instance_method">
  
    #<strong>set_lowest_and_highest</strong>(plans)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


222
223
224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 222</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_lowest_and_highest'>set_lowest_and_highest</span><span class='lparen'>(</span><span class='id identifier rubyid_plans'>plans</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plans'>plans</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='id identifier rubyid_plans_by_cost'>plans_by_cost</span> <span class='op'>=</span> <span class='id identifier rubyid_plans'>plans</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_plan'>plan</span><span class='op'>|</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_premium_tables'>premium_tables</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_cost'>cost</span> <span class='rbrace'>}</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_lowest_cost_plan_id'>lowest_cost_plan_id</span>  <span class='op'>=</span> <span class='id identifier rubyid_plans_by_cost'>plans_by_cost</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
    <span class='ivar'>@lowest_cost_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_plans_by_cost'>plans_by_cost</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_highest_cost_plan_id'>highest_cost_plan_id</span> <span class='op'>=</span> <span class='id identifier rubyid_plans_by_cost'>plans_by_cost</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
    <span class='ivar'>@highest_cost_plan</span> <span class='op'>=</span> <span class='id identifier rubyid_plans_by_cost'>plans_by_cost</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sic_factor_for-instance_method">
  
    #<strong>sic_factor_for</strong>(plan)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Provide the sic factor for this benefit group.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


546
547
548
549
550
551
552
553
554
555</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 546</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sic_factor_for'>sic_factor_for</span><span class='lparen'>(</span><span class='id identifier rubyid_plan'>plan</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_use_simple_employer_calculation_model?'>use_simple_employer_calculation_model?</span>
    <span class='kw'>return</span> <span class='float'>1.0</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span> <span class='op'>=</span> <span class='id identifier rubyid_plan'>plan</span><span class='period'>.</span><span class='id identifier rubyid_carrier_profile_id'>carrier_profile_id</span>
  <span class='ivar'>@scff_cache</span> <span class='op'>||=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_h'>h</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_h'>h</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_lookup_cached_scf_for'>lookup_cached_scf_for</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scff_cache</span><span class='lbracket'>[</span><span class='id identifier rubyid_factor_carrier_id'>factor_carrier_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="simple_benefit_list-instance_method">
  
    #<strong>simple_benefit_list</strong>(employee_premium_pct, dependent_premium_pct, employer_max_amount)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 341</span>

<span class='kw'>def</span> <span class='id identifier rubyid_simple_benefit_list'>simple_benefit_list</span><span class='lparen'>(</span><span class='id identifier rubyid_employee_premium_pct'>employee_premium_pct</span><span class='comma'>,</span> <span class='id identifier rubyid_dependent_premium_pct'>dependent_premium_pct</span><span class='comma'>,</span> <span class='id identifier rubyid_employer_max_amount'>employer_max_amount</span><span class='rparen'>)</span>
  <span class='lbracket'>[</span>
    <span class='const'><span class='object_link'><a href="RelationshipBenefit.html" title="RelationshipBenefit (class)">RelationshipBenefit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>benefit_group:</span> <span class='kw'>self</span><span class='comma'>,</span>
                            <span class='label'>relationship:</span> <span class='symbol'>:employee</span><span class='comma'>,</span>
                            <span class='label'>premium_pct:</span> <span class='id identifier rubyid_employee_premium_pct'>employee_premium_pct</span><span class='comma'>,</span>
                            <span class='label'>employer_max_amt:</span> <span class='id identifier rubyid_employer_max_amount'>employer_max_amount</span><span class='comma'>,</span>
                            <span class='label'>offered:</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rbracket'>]</span> <span class='op'>+</span> <span class='const'><span class='object_link'><a href="#PERSONAL_RELATIONSHIP_KINDS-constant" title="BenefitGroup::PERSONAL_RELATIONSHIP_KINDS (constant)">PERSONAL_RELATIONSHIP_KINDS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_kind'>kind</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='symbol'>:employee</span><span class='comma'>,</span> <span class='symbol'>:child_26_and_over</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_relationship'>relationship</span><span class='op'>|</span>
    <span class='const'><span class='object_link'><a href="RelationshipBenefit.html" title="RelationshipBenefit (class)">RelationshipBenefit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>benefit_group:</span> <span class='kw'>self</span><span class='comma'>,</span>
                            <span class='label'>relationship:</span> <span class='id identifier rubyid_relationship'>relationship</span><span class='comma'>,</span>
                            <span class='label'>premium_pct:</span> <span class='id identifier rubyid_dependent_premium_pct'>dependent_premium_pct</span><span class='comma'>,</span>
                            <span class='label'>employer_max_amt:</span> <span class='id identifier rubyid_employer_max_amount'>employer_max_amount</span><span class='comma'>,</span>
                            <span class='label'>offered:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='kw'>end</span> <span class='op'>+</span> <span class='lbracket'>[</span>
    <span class='const'><span class='object_link'><a href="RelationshipBenefit.html" title="RelationshipBenefit (class)">RelationshipBenefit</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='label'>benefit_group:</span> <span class='kw'>self</span><span class='comma'>,</span>
                            <span class='label'>relationship:</span> <span class='symbol'>:child_26_and_over</span><span class='comma'>,</span>
                            <span class='label'>premium_pct:</span> <span class='id identifier rubyid_employee_premium_pct'>employee_premium_pct</span><span class='comma'>,</span>
                            <span class='label'>employer_max_amt:</span> <span class='id identifier rubyid_employer_max_amount'>employer_max_amount</span><span class='comma'>,</span>
                            <span class='label'>offered:</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='comma'>,</span>
  <span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="single_plan_type?-instance_method">
  
    #<strong>single_plan_type?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


430
431
432</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 430</span>

<span class='kw'>def</span> <span class='id identifier rubyid_single_plan_type?'>single_plan_type?</span>
  <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>single_plan</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sole_source?-instance_method">
  
    #<strong>sole_source?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


715
716
717</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 715</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sole_source?'>sole_source?</span>
  <span class='id identifier rubyid_plan_option_kind'>plan_option_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sole_source</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sorted_composite_tier_contributions-instance_method">
  
    #<strong>sorted_composite_tier_contributions</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sorted_composite_tier_contributions'>sorted_composite_tier_contributions</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_composite_tier_contributions'>composite_tier_contributions</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_sort_val'>sort_val</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_sort_val'>sort_val</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="targeted_census_employees-instance_method">
  
    #<strong>targeted_census_employees</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


414
415
416
417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 414</span>

<span class='kw'>def</span> <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span>
  <span class='id identifier rubyid_target_object'>target_object</span> <span class='op'>=</span> <span class='id identifier rubyid_persisted?'>persisted?</span> <span class='op'>?</span> <span class='kw'>self</span> <span class='op'>:</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_employer_profile'>employer_profile</span>
  <span class='id identifier rubyid_target_object'>target_object</span><span class='period'>.</span><span class='id identifier rubyid_census_employees'>census_employees</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="targeted_census_employees_participation-instance_method">
  
    #<strong>targeted_census_employees_participation</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


596
597
598</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 596</span>

<span class='kw'>def</span> <span class='id identifier rubyid_targeted_census_employees_participation'>targeted_census_employees_participation</span>
  <span class='id identifier rubyid_targeted_census_employees'>targeted_census_employees</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_ce'>ce</span><span class='op'>|</span> <span class='id identifier rubyid_ce'>ce</span><span class='period'>.</span><span class='id identifier rubyid_is_included_in_participation_rate?'>is_included_in_participation_rate?</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="termination_effective_on_for-instance_method">
  
    #<strong>termination_effective_on_for</strong>(new_date)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/benefit_group.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_termination_effective_on_for'>termination_effective_on_for</span><span class='lparen'>(</span><span class='id identifier rubyid_new_date'>new_date</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_open_enrollment_contains?'>open_enrollment_contains?</span><span class='lparen'>(</span><span class='id identifier rubyid_new_date'>new_date</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_new_date'>new_date</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span>
    <span class='id identifier rubyid_plan_year'>plan_year</span><span class='period'>.</span><span class='id identifier rubyid_start_on'>start_on</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_new_date'>new_date</span><span class='period'>.</span><span class='id identifier rubyid_end_of_month'>end_of_month</span> <span class='kw'>if</span> <span class='id identifier rubyid_terminate_on_kind'>terminate_on_kind</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>end_of_month</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Oct 11 09:49:47 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.2.3).
</div>

    </div>
  </body>
</html>